var Fa=Object.defineProperty;var Dt=Object.getOwnPropertySymbols;var Ba=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable;var Et=(e,t,a)=>t in e?Fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ge=(e,t)=>{for(var a in t||(t={}))Ba.call(t,a)&&Et(e,a,t[a]);if(Dt)for(var a of Dt(t))Pa.call(t,a)&&Et(e,a,t[a]);return e};import{a as it,E as U,b as Re,c as za,C as Na,e as Va,d as Ga,f as Ha,g as Le,h as ja,u as Xa,i as G,j as O,k as Wa,o as g,l as x,n as Ae,m as d,p as y,q as m,r as _e,s as $e,t as r,w as _,v as we,x as T,y as ne,z as ce,A as De,B as lt,D as Ie,F as rt,G as ct,H as ut,I as dt,J as mt,K as Oe,L as le,M as L,N as ke,O as R,P as $,Q as me,R as pe,S as qa,T as Ka,U as se,V as He,W as je,X as Xe,Y as We,Z as xt,_ as Ue,$ as Ja,a0 as Ya,a1 as Za,a2 as Qa,a3 as eo,a4 as to,a5 as Me,a6 as ao,a7 as oo,a8 as no,a9 as Tt,aa as Rt,ab as so,ac as io,ad as lo,ae as ro,af as At,ag as co,ah as uo,ai as pt,aj as mo,ak as po,al as Ot,am as Ut,an as go,ao as _o,ap as fo,aq as ho,ar as Mt,as as vo,at as bo,au as gt,av as yo,aw as $o,ax as wo}from"./vendor.f7722ccf.js";const Io=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}};Io();const ko="XPoet/picx",qe="picx-images-hosting",So="PicX images hosting repository",Ke="master",Co="Upload image via PicX(https://github.com/XPoet/picx)",Lo="Upload images via PicX(https://github.com/XPoet/picx)",Do="Delete image via PicX(https://github.com/XPoet/picx)",Eo="https://api.github.com",xo=3e5,_t="PICX_",ft=`${_t}CONFIG`,Ft=`${_t}MANAGEMENT`,Bt=`${_t}SETTINGS`,Pt=5,zt=30,Nt=18,Vt=e=>{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null},Gt=Eo,Je=it.create({baseURL:Gt,timeout:xo});Je.defaults.headers["Content-Type"]="application/json";Je.interceptors.request.use(e=>{var a;const t=Vt(ft);if(t){const{token:o}=t;((a=e.baseURL)==null?void 0:a.includes(Gt))&&o&&(e.headers.Authorization=`token ${o}`)}return e},e=>Promise.reject(e));Je.interceptors.response.use(e=>e,e=>((e==null?void 0:e.response)||U.error({duration:6e3,message:`${e}`}),Promise.reject(e.response)));function Z(e){const t={};e.method=e.method.toUpperCase();for(const a in e)a==="params"?e.method==="GET"?t.params=e.params:t.data=e.params:t[a]=e[a];return new Promise(a=>{Je.request(t).then(o=>{const{status:n,data:i}=o;a(o&&(n===200||n===201||n===204)?i||"SUCCESS":null)}).catch(o=>{var n;if((t==null?void 0:t.success422)&&(o==null?void 0:o.status)===422)a((o==null?void 0:o.data)||"SUCCESS");else{const i=o==null?void 0:o.status,l=(n=o==null?void 0:o.data)==null?void 0:n.message;(t==null?void 0:t.noShowErrorMsg)||(console.error("PicX Error // ",o),i!==void 0&&l!==void 0&&U.error({duration:6e3,message:`Code: ${i}, Message: ${l}`})),a(null)}})})}const Ht=e=>Z({url:"/user",method:"GET",headers:{Authorization:`token ${e}`}}),To=(e=ko)=>Z({url:`/user/starred/${e}`,method:"PUT",data:{},noShowErrorMsg:!0}),Ro=(e,t=1)=>new Promise(async a=>{const o=await Z({url:`users/${e}/repos`,method:"GET",params:{type:"owner",sort:"created",direction:"desc",per_page:100,page:t}});o&&o.length?a(o.filter(n=>!n.fork&&!n.private).map(n=>({value:n.name,label:n.name}))):a(null)}),jt=async e=>{const t=[];for(let a=1;a<=3;a++){const o=await Ro(e,a);o&&t.push(...o)}return Promise.resolve(t.length?t:null)},Xt=async(e,t=!0)=>{const a=`
# Welcome to use PicX

[PicX](https://github.com/XPoet/picx) is a simple and powerful image hosting tool. It supports image hosting services via GitHub repository.

PicX is completely open source, and you can use it for free.

If you like it, please give it a star on [GitHub](https://github.com/XPoet/picx).
        `,{owner:o,selectedRepo:n,selectedBranch:i}=e;let l=null;t&&(l=Re.service({text:"\u6B63\u5728\u521D\u59CB\u5316\u4ED3\u5E93..."})),await Z({url:`/repos/${o}/${n}/contents/README.md`,method:"PUT",data:{message:"Init repo via PicX(https://github.com/XPoet/picx)",branch:i,content:window.btoa(a)},noShowErrorMsg:!0})?l==null||l.close():t&&U.error("\u4ED3\u5E93\u521D\u59CB\u5316\u5931\u8D25")},Ao=e=>Z({url:"/user/repos",method:"POST",params:{name:qe,description:So,private:!1},headers:{Authorization:`token ${e}`},success422:!0}),Fe=(e,t)=>({type:"dir",dir:e,dirPath:t,childrenDirs:[],imageList:[]}),Oo=e=>{if(e==="/")return{currentDir:"/",dirPath:"/"};const t=e.split("/");return t.length===1?{currentDir:"/",dirPath:"/"}:t.length>1?(t.length-=1,{currentDir:t[t.length-1],dirPath:t.join("/")}):{currentDir:"/",dirPath:"/"}},Uo=e=>{if(e==="/")return[];const t=e.split("/"),a=[];let o="";return t.forEach((n,i)=>{o+=`${i>0?"/":""}${n}`,a.unshift(o)}),a};function Wt(e,t,a){var o;return e?t.length===a?e:Wt((o=e.childrenDirs)==null?void 0:o.find(n=>n.dir===t[a]),t,++a):null}const Ye=(e,t)=>{if(e==="/")return t;const a=e.split("/");return Wt(t,a,0)},Ze=(e,t,a)=>{var o;return a==="dir"?(o=t.childrenDirs)==null?void 0:o.filter(n=>n.type==="dir"):a==="image"?t.imageList.filter(n=>n.type==="image"):[]},Mo=()=>{const e=localStorage.getItem(Ft);return e?JSON.parse(e):Fe("/","/")},Fo={state:{name:"dirImageListModule",dirObject:Mo()},mutations:{},actions:{DIR_IMAGE_LIST_ADD_DIR({state:e,dispatch:t},a){if(a==="/")return;const o=(s,u,c)=>s?(s.childrenDirs.some(b=>b.dir===u)||s.childrenDirs.push(Fe(u,c)),s.childrenDirs.find(b=>b.dir===u)||Fe(u,c)):Fe(u,c),n=a.split("/");let i="",l=e.dirObject;for(let s=0,u=n.length;s<u;s++){const c=n[s];i+=`${s>0?"/":""}${c}`,l=o(l,c,i),s===0&&t("USER_CONFIG_INFO_ADD_DIR",c)}t("DIR_IMAGE_LIST_PERSIST")},DIR_IMAGE_LIST_REMOVE_DIR({state:e,dispatch:t},a){if(a==="/")return;const o=(l,s,u)=>{if(s==="/")return e.dirObject;const c=l.childrenDirs.find(f=>f.dir===s);if(!c)return l;if(u){const f=l.childrenDirs.findIndex(b=>b.dir===s);f!==-1&&l.childrenDirs.splice(f,1)}return c},n=a.split("/");let i=e.dirObject;n.forEach((l,s)=>{i=o(i,l,s===n.length-1)}),t("DIR_IMAGE_LIST_PERSIST")},DIR_IMAGE_LIST_ADD_IMAGE({state:e,dispatch:t},a){const o=(i,l,s,u,c=!1)=>{var b;if(!i)return e.dirObject;let f=(b=i.childrenDirs)==null?void 0:b.find(w=>w.dir===l);return f||(f={type:"dir",dir:l,dirPath:s,childrenDirs:[],imageList:[]},i.childrenDirs.push(f)),c&&!f.imageList.some(w=>w.name===u.name)&&f.imageList.push(u),f};let n=e.dirObject;if(a.dir==="/")n.imageList.some(i=>i.name===a.name)||n.imageList.push(a);else{const i=a.dir.split("/");let l="";i.forEach((s,u)=>{l+=`${u>0?"/":""}${s}`,n=o(n,s,l,a,u===i.length-1)})}t("DIR_IMAGE_LIST_PERSIST")},DIR_IMAGE_LIST_REMOVE({state:e,dispatch:t},a){const o=(c,f)=>{if(c.length){const b=c.findIndex(w=>w.uuid===f);b!==-1&&c.splice(b,1)}},n=(c,f,b,w)=>{if(!c)return e.dirObject;const v=c.childrenDirs.find(p=>p.dir===f);return v?(v.dir===f&&w&&o(v.imageList,b.uuid),v):e.dirObject},{dir:i,uuid:l}=a;if(i==="/"){o(e.dirObject.imageList,l),t("DIR_IMAGE_LIST_PERSIST");return}const s=i.split("/");let u=e.dirObject;s.forEach((c,f)=>{u=n(u,c,a,f===s.length-1),!u.imageList.length&&!u.childrenDirs.length&&Uo(u.dirPath).forEach(w=>{const v=Ye(w,e.dirObject);if(v&&!v.imageList.length&&!v.childrenDirs.length){const{dirPath:p}=Oo(w),h=p,C=p;let S=C.split("/");p==="/"&&(S=[],t("USER_CONFIG_INFO_REMOVE_DIR",w)),t("SET_USER_CONFIG_INFO",{viewDir:h,selectedDir:C,selectedDirList:S}),t("DIR_IMAGE_LIST_REMOVE_DIR",w)}})})},DIR_IMAGE_LIST_INIT_DIR({state:e,dispatch:t},a){let o=e.dirObject;if(a==="/"){o.imageList=[],o.childrenDirs=[],t("DIR_IMAGE_LIST_PERSIST");return}const n=(l,s,u)=>{var f;if(!l)return e.dirObject;const c=(f=l.childrenDirs)==null?void 0:f.find(b=>b.dir===s);return c?(u&&(c.imageList=[],c.childrenDirs=[]),c):e.dirObject},i=a.split("/");i.forEach((l,s)=>{o=n(o,l,s===i.length-1)}),t("DIR_IMAGE_LIST_PERSIST")},DIR_IMAGE_LIST_PERSIST({state:e}){localStorage.setItem(Ft,JSON.stringify(e.dirObject))},DIR_IMAGE_LOGOUT({state:e,dispatch:t}){e.dirObject=Fe("/","/"),t("DIR_IMAGE_LIST_PERSIST")}},getters:{getDirObject:e=>e.dirObject}};var ve;(function(e){e.uploaded="uploaded",e.allUploaded="allUploaded",e.uploadFail="uploadFail"})(ve||(ve={}));var be;(function(e){e.deleted="deleted",e.allDeleted="allDeleted",e.deleteFail="deleteFail"})(be||(be={}));var ge;(function(e){e.mozJPEG="mozJPEG",e.avif="avif",e.webP="webP"})(ge||(ge={}));var fe;(function(e){e.newBranch="newBranch",e.repoBranch="repoBranch"})(fe||(fe={}));var Q;(function(e){e.autoDir="autoDir",e.newDir="newDir",e.rootDir="rootDir",e.repoDir="repoDir"})(Q||(Q={}));var te;(function(e){e.large="large",e.default="default",e.small="small"})(te||(te={}));var ue;(function(e){e.leftTop="leftTop",e.leftBottom="leftBottom",e.rightTop="rightTop",e.rightBottom="rightBottom"})(ue||(ue={}));var re;(function(e){e.system="system",e.light="light",e.dark="dark"})(re||(re={}));var de;(function(e){e.zhCN="zh-CN",e.zhTW="zh-TW",e.en="en"})(de||(de={}));var Ee;(function(e){e[e.parentDir=0]="parentDir",e[e.childDir=1]="childDir",e[e.img=2]="img"})(Ee||(Ee={}));const Bo="\u4ED3\u5E93",Po="\u5206\u652F",zo="\u76EE\u5F55",No="\u63D0\u793A",Vo="\u91CD\u7F6E",Go="\u786E\u5B9A",Ho="\u53D6\u6D88",jo="\u4F5C\u8005",Xo="\u6587\u6863",Wo="\u5FEB\u6377\u952E",qo="\u590D\u5236\u56FE\u7247\u94FE\u63A5",Ko="\u56FE\u7247\u94FE\u63A5\u5DF2\u81EA\u52A8\u590D\u5236\u5230\u7CFB\u7EDF\u526A\u8D34\u677F",Jo="\u56FE\u7247\u94FE\u63A5\u590D\u5236\u6210\u529F",Yo="\u590D\u5236\u5931\u8D25",Zo={notLogin:"\u672A\u767B\u5F55",logout:"\u9000\u51FA\u767B\u5F55",language:"\u8BED\u8A00",theme:"\u4E3B\u9898",usage_count:"\u4F7F\u7528\u6B21\u6570"},Qo={config:"\u56FE\u5E8A\u914D\u7F6E",upload:"\u4E0A\u4F20\u56FE\u7247",management:"\u56FE\u5E8A\u7BA1\u7406",settings:"\u6211\u7684\u8BBE\u7F6E",toolbox:"\u5DE5\u5177\u7BB1",feedback:"\u5E2E\u52A9\u53CD\u9988",actions:"\u5FEB\u6377\u64CD\u4F5C"},en={watermark:"\u6DFB\u52A0\u6C34\u5370",compress:"\u538B\u7F29\u56FE\u7247",transform:"\u8F6C\u6362 "},tn={img_name:{title:"\u56FE\u7247\u540D\u79F0\u8BBE\u7F6E",hash_switch_name:"\u81EA\u52A8\u54C8\u5E0C\u5316",hash_switch_desc:"\u4E0A\u4F20\u524D\u81EA\u52A8\u7ED9\u56FE\u7247\u540D\u589E\u52A0\u54C8\u5E0C\u7801\uFF0C\u786E\u4FDD\u56FE\u7247\u540D\u552F\u4E00\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u5F00\u542F",prefix_switch_name:"\u6DFB\u52A0\u524D\u7F00\u547D\u540D",prefix_switch_desc:"\u4E0A\u4F20\u524D\u81EA\u52A8\u7ED9\u56FE\u7247\u540D\u589E\u52A0\u524D\u7F00\uFF0C\u4F8B\u5982\uFF1Aabc-image.jpg\uFF0Cabc- \u4E3A\u524D\u7F00",prefix_input_placeholder:"\u8BF7\u8F93\u5165\u547D\u540D\u524D\u7F00 ..."},img_watermark:{title:"\u56FE\u7247\u6C34\u5370\u8BBE\u7F6E",switch_name:"\u662F\u5426\u6DFB\u52A0\u6C34\u5370",switch_desc:"\u5F00\u542F\u540E\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6C34\u5370\u6587\u5B57\u3001\u5B57\u4F53\u5927\u5C0F\u3001\u4F4D\u7F6E\u3001\u989C\u8272\u548C\u900F\u660E\u5EA6",text:"\u6C34\u5370\u6587\u5B57",text_input_placeholder:"\u8BF7\u8F93\u5165\u6C34\u5370\u6587\u5B57\uFF0C\u9650\u5236 20 \u5B57",size:"\u6C34\u5370\u5927\u5C0F",color:"\u6C34\u5370\u989C\u8272",opacity:"\u6C34\u5370\u900F\u660E\u5EA6",position:"\u6C34\u5370\u4F4D\u7F6E",position_1:"\u5DE6\u4E0A\u89D2",position_2:"\u5DE6\u4E0B\u89D2",position_3:"\u53F3\u4E0A\u89D2",position_4:"\u53F3\u4E0B\u89D2"},img_compress:{title:"\u56FE\u7247\u538B\u7F29\u8BBE\u7F6E",switch_name:"\u662F\u5426\u538B\u7F29\u56FE\u7247",switch_desc:"\u5F00\u542F\u540E\u4E0A\u4F20\u524D\u4F1A\u81EA\u52A8\u538B\u7F29\u56FE\u7247\uFF0C\u6709\u6548\u7F29\u77ED\u56FE\u7247\u4E0A\u4F20\u548C\u52A0\u8F7D\u65F6\u95F4\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u5F00\u542F",radio_group_title:"\u9009\u62E9\u56FE\u7247\u538B\u7F29\u7B97\u6CD5",radio_1:"webP",radio_1_desc:"\u538B\u7F29\u540E\u56FE\u7247\u683C\u5F0F\u4E3A webp\uFF0C\u538B\u7F29\u7387\u8F83\u9AD8\uFF0C\u5927\u591A\u6570\u6D4F\u89C8\u5668\u652F\u6301",radio_2:"mozJPEG",radio_2_desc:"\u538B\u7F29\u540E\u56FE\u7247\u683C\u5F0F\u4E3A jpg\uFF0C\u517C\u5BB9\u6027\u6700\u597D\uFF0C\u6240\u6709\u6D4F\u89C8\u5668\u652F\u6301",radio_3:"avif",radio_3_desc:"\u538B\u7F29\u540E\u56FE\u7247\u683C\u5F0F\u4E3A avif\uFF0C\u538B\u7F29\u7387\u6781\u9AD8\uFF0C\u90E8\u5206\u73B0\u4EE3\u6D4F\u89C8\u5668\u652F\u6301"},link_rule:{title:"\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u914D\u7F6E",select_title:"\u9009\u62E9\u56FE\u7247\u94FE\u63A5\u89C4\u5219",card_title:"\u914D\u7F6E\u81EA\u5B9A\u4E49\u56FE\u7247\u94FE\u63A5\u89C4\u5219",card_table_col_title_1:"\u7C7B\u578B",card_table_col_title_2:"CDN \u89C4\u5219",card_table_col_title_3:"\u64CD\u4F5C",input_name_1:"\u56FE\u7247\u94FE\u63A5\u7C7B\u578B",input_name_1_rule:"\u56FE\u7247\u94FE\u63A5\u7C7B\u578B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",input_name_2:"\u56FE\u7247\u94FE\u63A5\u89C4\u5219",input_name_2_rule:"\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u4E0D\u80FD\u4E3A\u7A7A",btn_name_1:"\u6DFB\u52A0\u56FE\u7247\u94FE\u63A5\u89C4\u5219"},link_format:{title:"\u56FE\u7247\u94FE\u63A5\u683C\u5F0F\u8BBE\u7F6E",switch_name:"\u81EA\u52A8\u8F6C\u6362\u56FE\u7247\u94FE\u63A5\u683C\u5F0F",switch_desc:"\u4E0A\u4F20\u6210\u529F\u540E\u590D\u5236\u7684\u56FE\u7247\u94FE\u63A5\u81EA\u52A8\u8F6C\u6362\u6210 {type} \u683C\u5F0F",select_title:"\u9009\u62E9\u56FE\u7247\u94FE\u63A5\u683C\u5F0F",delete_tips:"\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u56FE\u7247\u94FE\u63A5\u89C4\u5219"},theme:{title:"\u4E3B\u9898\u8BBE\u7F6E",system:"\u8DDF\u968F\u7CFB\u7EDF",dark:"\u6697\u591C",light:"\u767D\u663C"}},an={inputToken:"\u8BF7\u8F93\u5165 GitHub Token ...",manualConfiguration1:"\u624B\u52A8\u914D\u7F6E",manualConfiguration2:"\u91CD\u65B0\u624B\u52A8\u914D\u7F6E",manualConfiguration3:"\u4F7F\u7528\u5DF2\u6709\u7684 GitHub \u4ED3\u5E93\uFF0C\u9010\u6B65\u5B8C\u6210\u914D\u7F6E",autoConfiguration1:"\u4E00\u952E\u81EA\u52A8\u914D\u7F6E",autoConfiguration2:"\u91CD\u65B0\u4E00\u952E\u81EA\u52A8\u914D\u7F6E",autoConfiguration3:"\u81EA\u52A8\u521B\u5EFA GitHub \u4ED3\u5E93\uFF08\u9002\u5408\u65B0\u7528\u6237\uFF09",username:"\u7528\u6237\u540D",email:"\u90AE\u7BB1",selectRepo:"\u9009\u62E9\u4ED3\u5E93",selectBranch:"\u9009\u62E9\u5206\u652F",loading1:"\u6B63\u5728\u52A0\u8F7D\u7528\u6237\u4FE1\u606F ...",loading2:"\u6B63\u5728\u52A0\u8F7D\u5206\u652F\u4FE1\u606F ...",loading3:"\u6B63\u5728\u52A0\u8F7D\u7528\u6237\u4FE1\u606F ...",loading4:"\u6B63\u5728\u52A0\u8F7D{type}\u6570\u636E ...",loading5:"\u6B63\u5728\u52A0\u8F7D\u76EE\u5F55\u4FE1\u606F ...",loading6:"\u6B63\u5728\u81EA\u52A8\u914D\u7F6E ...",placeholder1:"\u8BF7\u9009\u62E9\u56FE\u5E8A\u4ED3\u5E93 ...",placeholder2:"\u8BF7\u9009\u62E9\u5206\u652F ...",placeholder3:"\u8BF7\u8F93\u5165\u65B0\u5EFA\u7684\u5206\u652F ...",placeholder4:"\u8BF7\u8F93\u5165\u65B0\u5EFA\u7684\u76EE\u5F55 ...",placeholder5:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u76EE\u5F55 ...",message1:"GitHub Token \u4E0D\u80FD\u4E3A\u7A7A",message2:"\u7528\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u786E\u8BA4 Token \u662F\u5426\u6B63\u786E",message3:"\u81EA\u52A8\u521B\u5EFA GitHub \u4ED3\u5E93\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",message4:"\u81EA\u52A8\u914D\u7F6E\u6210\u529F",message5:"\u4E00\u952E\u81EA\u52A8\u914D\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",message6:"\u76EE\u5F55\u4E0D\u80FD\u4E3A\u7A7A",message7:"\u8BF7\u8F93\u5165\u4E00\u4E2A\u65B0\u76EE\u5F55",message8:"\u8BF7\u9009\u62E9 {repo} \u4ED3\u5E93\u91CC\u7684\u4E00\u4E2A\u76EE\u5F55",message9:"\u4ED3\u5E93\u4FE1\u606F\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",message10:"\u5206\u652F\u4FE1\u606F\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",message11:"\u7528\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u786E\u8BA4 GitHub Token \u662F\u5426\u6709\u6548",message12:"\u8BF7\u8F93\u5165\u5206\u652F\u540D\u79F0",message13:"{branch} \u5206\u652F\u5DF2\u5B58\u5728\uFF0C\u8BF7\u5728\u5206\u652F\u5217\u8868\u4E2D\u9009\u62E9",message14:"{branch} \u5206\u652F\u521B\u5EFA\u6210\u529F",createBranch:"\u65B0\u5EFA\u5206\u652F",branchMode:"\u5206\u652F\u65B9\u5F0F",selectBranch2:"\u9009\u62E9 {repo}} \u4ED3\u5E93\u91CC\u7684\u5206\u652F",reload:"\u91CD\u65B0\u8F7D\u5165\u6240\u6709{type}\u6570\u636E",dirMode:"\u76EE\u5F55\u6A21\u5F0F",inputNewDir:"\u624B\u52A8\u8F93\u5165\u4E00\u4E2A\u65B0\u76EE\u5F55",createNewDir:"\u65B0\u5EFA\u76EE\u5F55",rootDir:"\u6839\u76EE\u5F55",rootDir2:"\u56FE\u7247\u5B58\u50A8\u5728 {branch} \u5206\u652F\u7684\u6839\u76EE\u5F55\u4E0B",autoDir:"\u81EA\u52A8\u76EE\u5F55",autoDir2:"\u6839\u636E\u65E5\u671F\u81EA\u52A8\u521B\u5EFA\u683C\u5F0F yyyyMMdd \u7684\u76EE\u5F55",repoDir:"\u9009\u62E9 {repo} \u4ED3\u5E93\u76EE\u5F55",repoDir2:"\u9009\u62E9 {branch} \u5206\u652F\u91CC\u7684\u4E00\u4E2A\u76EE\u5F55",selectDir:"\u9009\u62E9\u76EE\u5F55"},on={uploadAreaTips:"\u62D6\u62FD / \u7C98\u8D34 / \u70B9\u51FB\u6B64\u5904\u9009\u62E9\u56FE\u7247",uploaded:"\u5DF2\u4E0A\u4F20",upload:"\u4E0A\u4F20",message1:"\u8BF7\u5148\u5B8C\u6210\u56FE\u5E8A\u914D\u7F6E",message2:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u4ED3\u5E93",message3:"\u76EE\u5F55\u4E0D\u80FD\u4E3A\u7A7A",message4:"\u8BF7\u9009\u62E9\u8981\u4E0A\u4F20\u7684\u56FE\u7247",message5:"\u56FE\u7247\u4E0A\u4F20\u6210\u529F",message6:"\u56FE\u7247\u6279\u91CF\u4E0A\u4F20\u6210\u529F",message7:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",message8:"\u56FE\u7247\u4E0A\u4F20\u6210\u529F",fold:"\u6298\u53E0",expand:"\u5C55\u5F00",hash:"\u54C8\u5E0C\u5316",rename:"\u91CD\u547D\u540D",prefixNaming:"\u524D\u7F00\u547D\u540D",delete:"\u5220\u9664",copyLink:"\u590D\u5236\u56FE\u7247\u94FE\u63A5",loading1:"\u6B63\u5728\u4E0A\u4F20 ..."},nn={reload:"\u91CD\u65B0\u52A0\u8F7D {dir} \u76EE\u5F55\u6240\u6709\u6570\u636E",loadingTxt1:"\u52A0\u8F7D\u4E2D ...",loadingTxt2:"\u6B63\u5728\u91CD\u547D\u540D ...",loadingTxt3:"\u5220\u9664\u4E2D ...",back:"\u53CC\u51FB\u540E\u9000",toNextDir:"\u53CC\u51FB\u8FDB\u5165\u4E0B\u4E00\u7EA7\u76EE\u5F55",property:"\u5C5E\u6027",delTips:"\u6B64\u64CD\u4F5C\u5C06\u4F1A\u6C38\u4E45\u5220\u9664\u56FE\u7247",delTips2:"\u5DF2\u9009\u4E2D {total} \u5F20\u56FE\u7247\uFF0C\u662F\u5426\u6279\u91CF\u5220\u9664\uFF1F",renameTips:"\u8BE5\u56FE\u7247\u91CD\u547D\u540D\u4E3A {name} \uFF1F",message1:"\u56FE\u7247\u540D\u4E0D\u80FD\u4E3A\u7A7A",message2:"\u56FE\u7247\u540D\u65E0\u6539\u53D8",message3:"\u91CD\u547D\u540D\u5931\u8D25",message4:"\u66F4\u65B0\u6210\u529F",message5:"\u5220\u9664\u6210\u529F",message6:"\u6279\u91CF\u5220\u9664\u6210\u529F",message7:"\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",imageName:"\u56FE\u7247\u540D\u79F0",imageSize:"\u56FE\u7247\u5927\u5C0F",selectAll:"\u5168\u9009",deselectAll:"\u53D6\u6D88\u5168\u9009",unselect:"\u53D6\u6D88\u9009\u62E9",batchCopy:"\u6279\u91CF\u590D\u5236\u56FE\u7247\u94FE\u63A5",batchDelete:"\u6279\u91CF\u5220\u9664\u56FE\u7247",selectTotal:"\u5DF2\u9009\u62E9 {total} \u5F20\u56FE\u7247",contextmenu_1:"\u4ECE\u5F53\u524D\u4F4D\u7F6E\u4E0A\u4F20\u65B0\u56FE\u7247",contextmenu_2:"\u4E0A\u4F20\u56FE\u7247\u5230 < {dir} >",contextmenu_3:"\u6839\u76EE\u5F55"},sn={tool_1:"\u56FE\u7247\u538B\u7F29",tool_1_desc:"\u4E0D\u9650\u5236\u56FE\u7247\u5927\u5C0F\u548C\u6570\u91CF\uFF0C\u4E0D\u4E0A\u4F20\u81F3\u670D\u52A1\u5668\u7684\u79BB\u7EBF\u6781\u81F4\u538B\u7F29",tool_2:"\u56FE\u7247\u8F6C Base64",tool_2_desc:"\u4E0D\u9650\u5236\u56FE\u7247\u5927\u5C0F\u548C\u6570\u91CF\uFF0C\u5728\u7EBF\u8F6C\u6362\u6210 Base64 \u7F16\u7801",tool_3:"\u56FE\u7247\u6C34\u5370 ",tool_3_desc:"\u81EA\u5B9A\u4E49\u6C34\u5370\u6587\u5B57\u3001\u5B57\u4F53\u5927\u5C0F\u3001\u4F4D\u7F6E\u3001\u989C\u8272\u548C\u900F\u660E\u5EA6",copy_base64:"\u70B9\u51FB\u590D\u5236 Base64 \u7F16\u7801",copy_base64_success:"Base64 \u7F16\u7801\u590D\u5236\u6210\u529F",click_download:"\u70B9\u51FB\u4E0B\u8F7D",compress:"\u538B\u7F29",batch_download:"\u6279\u91CF\u4E0B\u8F7D",add_watermark:"\u6DFB\u52A0\u6C34\u5370"},ln={text_1:"PicX \u662F\u4E00\u6B3E\u57FA\u4E8E GitHub API \u5F00\u53D1\u7684\u56FE\u5E8A\u5DE5\u5177\uFF0C\u63D0\u4F9B\u56FE\u7247\u4E0A\u4F20\u6258\u7BA1\u3001\u751F\u6210\u56FE\u7247\u94FE\u63A5\u548C\u5E38\u7528\u56FE\u7247\u5DE5\u5177\u7BB1\u670D\u52A1\u3002",text_2:"\u5EFA\u8BAE\u5C06\u672C\u7AD9\u6DFB\u52A0\u5230\u6D4F\u89C8\u5668\u6536\u85CF\u5939\uFF0C\u65B9\u4FBF\u4E0B\u6B21\u4F7F\u7528\u3002",text_3:"\u5982\u679C PicX \u5BF9\u4F60\u6709\u5E2E\u52A9\uFF0C\u6B22\u8FCE\u8D5E\u8D4F\u4F5C\u8005\uFF0C\u652F\u6301\u5F00\u6E90\u3002",text_4:"\u90D1\u91CD\u58F0\u660E\uFF1A\u8BF7\u52FF\u4F7F\u7528 PicX \u4E0A\u4F20\u8FDD\u53CD\u4F60\u5F53\u5730\u6CD5\u5F8B\u7684\u56FE\u7247\uFF0C\u6240\u9020\u6210\u7684\u4E00\u5207\u540E\u679C\u4E0E\u4F5C\u8005\u65E0\u5173\u3002"},rn={CN:"\u4E2D\u56FD\u5927\u9646",HK:"\u4E2D\u56FD\u9999\u6E2F",MO:"\u4E2D\u56FD\u6FB3\u95E8",TW:"\u4E2D\u56FD\u53F0\u6E7E",SG:"\u65B0\u52A0\u5761",JP:"\u65E5\u672C",US:"\u7F8E\u56FD"},cn={"zh-CN":"\u4E2D\u6587\u7B80\u4F53","zh-TW":"\u4E2D\u6587\u7E41\u4F53",en:"\u82F1\u6587"};var un={repo:Bo,branch:Po,dir:zo,tips:No,delete:"\u5220\u9664",reset:Vo,confirm:Go,cancel:Ho,author:jo,document:Xo,shortcut_key:Wo,copy_link:qo,copy_success_1:Ko,copy_success_2:Jo,copy_fail_1:Yo,header:Zo,nav:Qo,actions:en,settings:tn,config:an,upload:on,management:nn,toolbox:sn,feedback:ln,region:rn,language:cn,"toggle-language-msg":"\u68C0\u6D4B\u5230\u4F60\u7684 IP \u6240\u5C5E\u5730\u4E3A{region}\uFF0C\u662F\u5426\u5207\u6362{language}\uFF1F"};const dn="\u5009\u5EAB",mn="\u5206\u652F",pn="\u76EE\u9304",gn="\u63D0\u793A",_n="\u91CD\u7F6E",fn="\u78BA\u5B9A",hn="\u53D6\u6D88",vn="\u4F5C\u8005",bn="\u6587\u6A94",yn="\u5FEB\u6377\u9375",$n="\u5FA9\u88FD\u5716\u7247\u93C8\u63A5",wn="\u5716\u7247\u93C8\u63A5\u5DF2\u81EA\u52D5\u5FA9\u88FD\u5230\u7CFB\u7D71\u526A\u8CBC\u677F",In="\u5716\u7247\u93C8\u63A5\u5FA9\u88FD\u6210\u529F",kn="\u5FA9\u88FD\u5931\u6557",Sn={notLogin:"\u672A\u767B\u9304",logout:"\u9000\u51FA\u767B\u9304",language:"\u8A9E\u8A00",theme:"\u4E3B\u984C",usage_count:"\u4F7F\u7528\u6B21\u6578"},Cn={config:"\u5716\u5E8A\u914D\u7F6E",upload:"\u4E0A\u50B3\u5716\u7247",management:"\u5716\u5E8A\u7BA1\u7406",settings:"\u6211\u7684\u8A2D\u7F6E",toolbox:"\u5DE5\u5177\u7BB1",feedback:"\u5E6B\u52A9\u53CD\u994B",actions:"\u5FEB\u6377\u64CD\u4F5C"},Ln={watermark:"\u6DFB\u52A0\u6C34\u5370",compress:"\u58D3\u7E2E\u5716\u7247",transform:"\u8F49\u63DB "},Dn={img_name:{title:"\u5716\u7247\u540D\u7A31\u8A2D\u7F6E",hash_switch_name:"\u81EA\u52D5\u54C8\u5E0C\u5316",hash_switch_desc:"\u4E0A\u50B3\u524D\u81EA\u52D5\u7D66\u5716\u7247\u540D\u589E\u52A0\u54C8\u5E0C\u78BC\uFF0C\u78BA\u4FDD\u5716\u7247\u540D\u552F\u4E00\uFF0C\u5F37\u70C8\u5EFA\u8B70\u958B\u555F",prefix_switch_name:"\u6DFB\u52A0\u524D\u7DB4\u547D\u540D",prefix_switch_desc:"\u4E0A\u50B3\u524D\u81EA\u52D5\u7D66\u5716\u7247\u540D\u589E\u52A0\u524D\u7DB4\uFF0C\u4F8B\u5982\uFF1Aabc-image.jpg\uFF0Cabc- \u70BA\u524D\u7DB4",prefix_input_placeholder:"\u8ACB\u8F38\u5165\u547D\u540D\u524D\u7DB4 ..."},img_watermark:{title:"\u5716\u7247\u6C34\u5370\u8A2D\u7F6E",switch_name:"\u662F\u5426\u6DFB\u52A0\u6C34\u5370",switch_desc:"\u958B\u555F\u5F8C\u53EF\u4EE5\u81EA\u5B9A\u7FA9\u6C34\u5370\u6587\u5B57\u3001\u5B57\u9AD4\u5927\u5C0F\u3001\u4F4D\u7F6E\u3001\u984F\u8272\u548C\u900F\u660E\u5EA6",text:"\u6C34\u5370\u6587\u5B57",text_input_placeholder:"\u8ACB\u8F38\u5165\u6C34\u5370\u6587\u5B57\uFF0C\u9650\u88FD 20 \u5B57",size:"\u6C34\u5370\u5927\u5C0F",color:"\u6C34\u5370\u984F\u8272",opacity:"\u6C34\u5370\u900F\u660E\u5EA6",position:"\u6C34\u5370\u4F4D\u7F6E",position_1:"\u5DE6\u4E0A\u89D2",position_2:"\u5DE6\u4E0B\u89D2",position_3:"\u53F3\u4E0A\u89D2",position_4:"\u53F3\u4E0B\u89D2"},img_compress:{title:"\u5716\u7247\u58D3\u7E2E\u8A2D\u7F6E",switch_name:"\u662F\u5426\u58D3\u7E2E\u5716\u7247",switch_desc:"\u958B\u555F\u5F8C\u4E0A\u50B3\u524D\u6703\u81EA\u52D5\u58D3\u7E2E\u5716\u7247\uFF0C\u6709\u6548\u7E2E\u77ED\u5716\u7247\u4E0A\u50B3\u548C\u52A0\u8F09\u6642\u9593\uFF0C\u5F37\u70C8\u5EFA\u8B70\u958B\u555F",radio_group_title:"\u9078\u64C7\u5716\u7247\u58D3\u7E2E\u7B97\u6CD5",radio_1:"webP",radio_1_desc:"\u58D3\u7E2E\u5F8C\u5716\u7247\u683C\u5F0F\u70BA webp\uFF0C\u58D3\u7E2E\u7387\u8F03\u9AD8\uFF0C\u5927\u591A\u6578\u700F\u89BD\u5668\u652F\u6301",radio_2:"mozJPEG",radio_2_desc:"\u58D3\u7E2E\u5F8C\u5716\u7247\u683C\u5F0F\u70BA jpg\uFF0C\u517C\u5BB9\u6027\u6700\u597D\uFF0C\u6240\u6709\u700F\u89BD\u5668\u652F\u6301",radio_3:"avif",radio_3_desc:"\u58D3\u7E2E\u5F8C\u5716\u7247\u683C\u5F0F\u70BA avif\uFF0C\u58D3\u7E2E\u7387\u6975\u9AD8\uFF0C\u90E8\u5206\u73FE\u4EE3\u700F\u89BD\u5668\u652F\u6301"},link_rule:{title:"\u5716\u7247\u93C8\u63A5\u898F\u5247\u914D\u7F6E",select_title:"\u9078\u64C7\u5716\u7247\u93C8\u63A5\u898F\u5247",card_title:"\u914D\u7F6E\u81EA\u5B9A\u7FA9\u5716\u7247\u93C8\u63A5\u898F\u5247",card_table_col_title_1:"\u985E\u578B",card_table_col_title_2:"CDN \u898F\u5247",card_table_col_title_3:"\u64CD\u4F5C",input_name_1:"\u5716\u7247\u93C8\u63A5\u985E\u578B",input_name_1_rule:"\u5716\u7247\u93C8\u63A5\u985E\u578B\u540D\u7A31\u4E0D\u80FD\u70BA\u7A7A",input_name_2:"\u5716\u7247\u93C8\u63A5\u898F\u5247",input_name_2_rule:"\u5716\u7247\u93C8\u63A5\u898F\u5247\u4E0D\u80FD\u70BA\u7A7A",btn_name_1:"\u6DFB\u52A0\u5716\u7247\u93C8\u63A5\u898F\u5247"},link_format:{title:"\u5716\u7247\u93C8\u63A5\u683C\u5F0F\u8A2D\u7F6E",switch_name:"\u81EA\u52D5\u8F49\u63DB\u5716\u7247\u93C8\u63A5\u683C\u5F0F",switch_desc:"\u4E0A\u50B3\u6210\u529F\u5F8C\u5FA9\u88FD\u7684\u5716\u7247\u93C8\u63A5\u81EA\u52D5\u8F49\u63DB\u6210 {type} \u683C\u5F0F",select_title:"\u9078\u64C7\u5716\u7247\u93C8\u63A5\u683C\u5F0F",delete_tips:"\u6B64\u64CD\u4F5C\u5C07\u6C38\u4E45\u522A\u9664\u5716\u7247\u93C8\u63A5\u898F\u5247"},theme:{title:"\u4E3B\u984C\u8A2D\u7F6E",system:"\u8DDF\u96A8\u7CFB\u7D71",dark:"\u6697\u591C",light:"\u767D\u665D"}},En={inputToken:"\u8ACB\u8F38\u5165 GitHub Token ...",manualConfiguration1:"\u624B\u52D5\u914D\u7F6E",manualConfiguration2:"\u91CD\u65B0\u624B\u52D5\u914D\u7F6E",manualConfiguration3:"\u4F7F\u7528\u5DF2\u6709\u7684 GitHub \u5009\u5EAB\uFF0C\u9010\u6B65\u5B8C\u6210\u914D\u7F6E",autoConfiguration1:"\u4E00\u9375\u81EA\u52D5\u914D\u7F6E",autoConfiguration2:"\u91CD\u65B0\u4E00\u9375\u81EA\u52D5\u914D\u7F6E",autoConfiguration3:"\u81EA\u52D5\u5275\u5EFA GitHub \u5009\u5EAB\uFF08\u9069\u5408\u65B0\u7528\u6236\uFF09",username:"\u7528\u6236\u540D",email:"\u90F5\u7BB1",selectRepo:"\u9078\u64C7\u5009\u5EAB",selectBranch:"\u9078\u64C7\u5206\u652F",loading1:"\u6B63\u5728\u52A0\u8F09\u7528\u6236\u4FE1\u606F ...",loading2:"\u6B63\u5728\u52A0\u8F09\u5206\u652F\u4FE1\u606F ...",loading3:"\u6B63\u5728\u52A0\u8F09\u7528\u6236\u4FE1\u606F ...",loading4:"\u6B63\u5728\u52A0\u8F09{type}\u6578\u64DA ...",loading5:"\u6B63\u5728\u52A0\u8F09\u76EE\u9304\u4FE1\u606F ...",loading6:"\u6B63\u5728\u81EA\u52D5\u914D\u7F6E ...",placeholder1:"\u8ACB\u9078\u64C7\u5716\u5E8A\u5009\u5EAB ...",placeholder2:"\u8ACB\u9078\u64C7\u5206\u652F ...",placeholder3:"\u8ACB\u8F38\u5165\u65B0\u5EFA\u7684\u5206\u652F ...",placeholder4:"\u8ACB\u8F38\u5165\u65B0\u5EFA\u7684\u76EE\u9304 ...",placeholder5:"\u8ACB\u9078\u64C7\u4E00\u500B\u76EE\u9304 ...",message1:"GitHub Token \u4E0D\u80FD\u70BA\u7A7A",message2:"\u7528\u6236\u4FE1\u606F\u7372\u53D6\u5931\u6557\uFF0C\u8ACB\u78BA\u8A8D Token \u662F\u5426\u6B63\u78BA",message3:"\u81EA\u52D5\u5275\u5EFA GitHub \u5009\u5EAB\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66",message4:"\u81EA\u52D5\u914D\u7F6E\u6210\u529F",message5:"\u4E00\u9375\u81EA\u52D5\u914D\u7F6E\u5931\u6557\uFF0C\u8ACB\u91CD\u8A66",message6:"\u76EE\u9304\u4E0D\u80FD\u70BA\u7A7A",message7:"\u8ACB\u8F38\u5165\u4E00\u500B\u65B0\u76EE\u9304",message8:"\u8ACB\u9078\u64C7 {repo} \u5009\u5EAB\u88CF\u7684\u4E00\u500B\u76EE\u9304",message9:"\u5009\u5EAB\u4FE1\u606F\u7372\u53D6\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u91CD\u8A66",message10:"\u5206\u652F\u4FE1\u606F\u7372\u53D6\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66",message11:"\u7528\u6236\u4FE1\u606F\u7372\u53D6\u5931\u6557\uFF0C\u8ACB\u78BA\u8A8D GitHub Token \u662F\u5426\u6709\u6548",message12:"\u8ACB\u8F38\u5165\u5206\u652F\u540D\u7A31",message13:"{branch} \u5206\u652F\u5DF2\u5B58\u5728\uFF0C\u8ACB\u5728\u5206\u652F\u5217\u8868\u4E2D\u9078\u64C7",message14:"{branch} \u5206\u652F\u5275\u5EFA\u6210\u529F",createBranch:"\u65B0\u5EFA\u5206\u652F",branchMode:"\u5206\u652F\u65B9\u5F0F",selectBranch2:"\u9078\u64C7 {repo}} \u5009\u5EAB\u88CF\u7684\u5206\u652F",reload:"\u91CD\u65B0\u8F09\u5165\u6240\u6709{type}\u6578\u64DA",dirMode:"\u76EE\u9304\u6A21\u5F0F",inputNewDir:"\u624B\u52D5\u8F38\u5165\u4E00\u500B\u65B0\u76EE\u9304",createNewDir:"\u65B0\u5EFA\u76EE\u9304",rootDir:"\u6839\u76EE\u9304",rootDir2:"\u5716\u7247\u5B58\u5132\u5728 {branch} \u5206\u652F\u7684\u6839\u76EE\u9304\u4E0B",autoDir:"\u81EA\u52D5\u76EE\u9304",autoDir2:"\u6839\u64DA\u65E5\u671F\u81EA\u52D5\u5275\u5EFA\u683C\u5F0F yyyyMMdd \u7684\u76EE\u9304",repoDir:"\u9078\u64C7 {repo} \u5009\u5EAB\u76EE\u9304",repoDir2:"\u9078\u64C7 {branch} \u5206\u652F\u88CF\u7684\u4E00\u500B\u76EE\u9304",selectDir:"\u9078\u64C7\u76EE\u9304"},xn={uploadAreaTips:"\u62D6\u62FD / \u7C98\u8CBC / \u9EDE\u64CA\u6B64\u8655\u9078\u64C7\u5716\u7247",uploaded:"\u5DF2\u4E0A\u50B3",upload:"\u4E0A\u50B3",message1:"\u8ACB\u5148\u5B8C\u6210\u5716\u5E8A\u914D\u7F6E",message2:"\u8ACB\u9078\u64C7\u4E00\u500B\u5009\u5EAB",message3:"\u76EE\u9304\u4E0D\u80FD\u70BA\u7A7A",message4:"\u8ACB\u9078\u64C7\u8981\u4E0A\u50B3\u7684\u5716\u7247",message5:"\u5716\u7247\u4E0A\u50B3\u6210\u529F",message6:"\u5716\u7247\u6279\u91CF\u4E0A\u50B3\u6210\u529F",message7:"\u4E0A\u50B3\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u91CD\u8A66",message8:"\u5716\u7247\u4E0A\u50B3\u6210\u529F",fold:"\u6298\u758A",expand:"\u5C55\u958B",hash:"\u54C8\u5E0C\u5316",rename:"\u91CD\u547D\u540D",prefixNaming:"\u524D\u7DB4\u547D\u540D",delete:"\u522A\u9664",copyLink:"\u5FA9\u88FD\u5716\u7247\u93C8\u63A5",loading1:"\u6B63\u5728\u4E0A\u50B3 ..."},Tn={reload:"\u91CD\u65B0\u52A0\u8F09 {dir} \u76EE\u9304\u6240\u6709\u6578\u64DA",loadingTxt1:"\u52A0\u8F09\u4E2D ...",loadingTxt2:"\u6B63\u5728\u91CD\u547D\u540D ...",loadingTxt3:"\u522A\u9664\u4E2D ...",back:"\u96D9\u64CA\u5F8C\u9000",toNextDir:"\u96D9\u64CA\u9032\u5165\u4E0B\u4E00\u7D1A\u76EE\u9304",property:"\u5C6C\u6027",delTips:"\u6B64\u64CD\u4F5C\u5C07\u6703\u6C38\u4E45\u522A\u9664\u5716\u7247",delTips2:"\u5DF2\u9078\u4E2D {total} \u5F35\u5716\u7247\uFF0C\u662F\u5426\u6279\u91CF\u522A\u9664\uFF1F",renameTips:"\u8A72\u5716\u7247\u91CD\u547D\u540D\u70BA {name} \uFF1F",message1:"\u5716\u7247\u540D\u4E0D\u80FD\u70BA\u7A7A",message2:"\u5716\u7247\u540D\u7121\u6539\u8B8A",message3:"\u91CD\u547D\u540D\u5931\u6557",message4:"\u66F4\u65B0\u6210\u529F",message5:"\u522A\u9664\u6210\u529F",message6:"\u6279\u91CF\u522A\u9664\u6210\u529F",message7:"\u522A\u9664\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u91CD\u8A66",imageName:"\u5716\u7247\u540D\u7A31",imageSize:"\u5716\u7247\u5927\u5C0F",selectAll:"\u5168\u9078",deselectAll:"\u53D6\u6D88\u5168\u9078",unselect:"\u53D6\u6D88\u9078\u64C7",batchCopy:"\u6279\u91CF\u5FA9\u88FD\u5716\u7247\u93C8\u63A5",batchDelete:"\u6279\u91CF\u522A\u9664\u5716\u7247",selectTotal:"\u5DF2\u9078\u64C7 {total} \u5F35\u5716\u7247",contextmenu_1:"\u5F9E\u7576\u524D\u4F4D\u7F6E\u4E0A\u50B3\u65B0\u5716\u7247",contextmenu_2:"\u4E0A\u50B3\u5716\u7247\u5230 < {dir} >",contextmenu_3:"\u6839\u76EE\u9304"},Rn={tool_1:"\u5716\u7247\u58D3\u7E2E",tool_1_desc:"\u4E0D\u9650\u88FD\u5716\u7247\u5927\u5C0F\u548C\u6578\u91CF\uFF0C\u4E0D\u4E0A\u50B3\u81F3\u670D\u52D9\u5668\u7684\u96E2\u7DDA\u6975\u81F4\u58D3\u7E2E",tool_2:"\u5716\u7247\u8F49 Base64",tool_2_desc:"\u4E0D\u9650\u88FD\u5716\u7247\u5927\u5C0F\u548C\u6578\u91CF\uFF0C\u5728\u7DDA\u8F49\u63DB\u6210 Base64 \u7DE8\u78BC",tool_3:"\u5716\u7247\u6C34\u5370 ",tool_3_desc:"\u81EA\u5B9A\u7FA9\u6C34\u5370\u6587\u5B57\u3001\u5B57\u9AD4\u5927\u5C0F\u3001\u4F4D\u7F6E\u3001\u984F\u8272\u548C\u900F\u660E\u5EA6",copy_base64:"\u9EDE\u64CA\u5FA9\u88FD Base64 \u7DE8\u78BC",copy_base64_success:"Base64 \u7DE8\u78BC\u5FA9\u88FD\u6210\u529F",click_download:"\u9EDE\u64CA\u4E0B\u8F09",compress:"\u58D3\u7E2E",batch_download:"\u6279\u91CF\u4E0B\u8F09",add_watermark:"\u6DFB\u52A0\u6C34\u5370"},An={text_1:"PicX \u662F\u4E00\u6B3E\u57FA\u65BC GitHub API \u958B\u767C\u7684\u5716\u5E8A\u5DE5\u5177\uFF0C\u63D0\u4F9B\u5716\u7247\u4E0A\u50B3\u6258\u7BA1\u3001\u751F\u6210\u5716\u7247\u93C8\u63A5\u548C\u5E38\u7528\u5716\u7247\u5DE5\u5177\u7BB1\u670D\u52D9\u3002",text_2:"\u5EFA\u8B70\u5C07\u672C\u7AD9\u6DFB\u52A0\u5230\u700F\u89BD\u5668\u6536\u85CF\u593E\uFF0C\u65B9\u4FBF\u4E0B\u6B21\u4F7F\u7528\u3002",text_3:"\u5982\u679C PicX \u5C0D\u4F60\u6709\u5E6B\u52A9\uFF0C\u6B61\u8FCE\u8D0A\u8CDE\u4F5C\u8005\uFF0C\u652F\u6301\u958B\u6E90\u3002",text_4:"\u912D\u91CD\u8072\u660E\uFF1A\u8ACB\u52FF\u4F7F\u7528 PicX \u4E0A\u50B3\u9055\u53CD\u4F60\u7576\u5730\u6CD5\u5F8B\u7684\u5716\u7247\uFF0C\u6240\u9020\u6210\u7684\u4E00\u5207\u5F8C\u679C\u8207\u4F5C\u8005\u7121\u95DC\u3002"},On={CN:"\u4E2D\u570B\u5927\u9678",HK:"\u4E2D\u570B\u9999\u6E2F",MO:"\u4E2D\u56FD\u6FB3\u95E8",TW:"\u4E2D\u570B\u81FA\u7063",SG:"\u65B0\u52A0\u5761",JP:"\u65E5\u672C",US:"\u7F8E\u570B"},Un={"zh-CN":"\u4E2D\u6587\u7C21\u9AD4","zh-TW":"\u4E2D\u6587\u7E41\u9AD4",en:"\u82F1\u6587"};var Mn={repo:dn,branch:mn,dir:pn,tips:gn,delete:"\u522A\u9664",reset:_n,confirm:fn,cancel:hn,author:vn,document:bn,shortcut_key:yn,copy_link:$n,copy_success_1:wn,copy_success_2:In,copy_fail_1:kn,header:Sn,nav:Cn,actions:Ln,settings:Dn,config:En,upload:xn,management:Tn,toolbox:Rn,feedback:An,region:On,language:Un,"toggle-language-msg":"\u6AA2\u6E2C\u5230\u4F60\u7684 IP \u6240\u5C6C\u5730\u70BA{region}\uFF0C\u662F\u5426\u5207\u63DB{language}\uFF1F"};const Fn="Repository",Bn="Branch",Pn="Directory",zn="Tips",Nn="Reset",Vn="Confirm",Gn="Cancel",Hn="Author",jn="Document",Xn="Shortcut key",Wn="Copy image link",qn="The image link has been automatically copied to the system clipboard",Kn="Image link copied successfully",Jn="Copy failed",Yn={notLogin:"Not log in",logout:"Log out",language:"Language",theme:"Theme",usage_count:"Usage count"},Zn={config:"Image Hosting Config",upload:"Upload Image",management:"Image Hosting Management",settings:"My Settings",toolbox:"Toolbox",feedback:"Feedback",actions:"Quick actions"},Qn={compress:"Compress Image",watermark:"Add Watermark",transform:"Transform "},es={img_name:{title:"Image Name Settings",hash_switch_name:"Hashing",hash_switch_desc:"Automatically add a hash code to the image name before uploading to ensure uniqueness. It is strongly recommended to turn on this feature.",prefix_switch_name:"Add Prefix",prefix_switch_desc:"Automatically add a prefix to the image name before uploading. For example: abc-image.jpg, where abc- is the prefix.",prefix_input_placeholder:"Please enter the name prefix..."},img_watermark:{title:"Image Watermark Settings",switch_name:"Add Watermark",switch_desc:"After turning on this feature, you can customize the watermark text, font size, position, color, and transparency.",text:"Text",text_input_placeholder:"Please enter the watermark text, limited to 20 characters.",size:"Size",color:"Color",opacity:"Opacity",position:"Position",position_1:"Top Left",position_2:"Bottom Left",position_3:"Top Right",position_4:"Bottom Right"},img_compress:{title:"Image Compression Settings",switch_name:"Compress Images",switch_desc:"After enable, the image will be auto compressed before uploading, which can effectively shorten the image upload and loading time. It is strongly recommended enable.",radio_group_title:"Select image compression algorithm",radio_1:"WebP",radio_1_desc:"The compressed image format is webp, which has a higher compression ratio and is supported by most browsers.",radio_2:"MozJPEG",radio_2_desc:"The compressed image format is jpg, which has the best compatibility and is supported by all browsers.",radio_3:"AVIF",radio_3_desc:"The compressed image format is avif, which has an extremely high compression ratio and is supported by some modern browsers."},link_rule:{title:"Image Link Rules Configuration",select_title:"Select Image Link Rule",card_title:"Configure Custom Image Link Rules",card_table_col_title_1:"Type",card_table_col_title_2:"CDN Rule",card_table_col_title_3:"Action",input_name_1:"Link Type",input_name_1_rule:"The Image Link Type Name cannot be empty.",input_name_2:"Link Rule",input_name_2_rule:"The Image Link Rule cannot be empty.",btn_name_1:"Add Image Link Rule"},link_format:{title:"Image Link Format Settings",switch_name:"Automatically Convert Image Link Format",switch_desc:"After a successful upload, the copied image link will be automatically converted to the {type} format.",select_title:"Select Image Link Format",delete_tips:"This operation will permanently delete the image link rule"},theme:{title:"Theme Settings",system:"System",dark:"Dark",light:"Light"}},ts={inputToken:"Please input GitHub Token ...",manualConfiguration1:"Manual Configuration",manualConfiguration2:"Reconfigure Manually",manualConfiguration3:"Configure using an existing GitHub repository step by step",autoConfiguration1:"One-click Automatic Configuration",autoConfiguration2:"Reconfigure Automatically",autoConfiguration3:"Automatically create a GitHub repository (suitable for new users)",username:"Username",email:"Email",selectRepo:"Select Repo",selectBranch:"Select Branch",loading1:"Loading user information ...",loading2:"Loading branch information ...",loading3:"Loading user information ...",loading4:"Loading {type} data ...",loading5:"Loading directory information ...",loading6:"Automatically configuring ...",placeholder1:"Please select image hosting repository ...",placeholder2:"Please select branch ...",placeholder3:"Please enter the name of new branch ...",placeholder4:"Please enter the newly created directory ...",placeholder5:"Please select a directory ...",message1:"GitHub token cannot be empty",message2:"Failed to retrieve user information, please verify that the token is correct",message3:"Failed to automatically create GitHub repository, please try again later",message4:"Automated configuration successful",message5:"One-click automated configuration failed, please try again.",message6:"Directory cannot be empty",message7:"Please enter a new directory",message8:"Please select a directory in the {repo} repository",message9:"Failed to retrieve repository information, please try again later",message10:"Failed to retrieve branch information, please try again later",message11:"Failed to retrieve user information, please verify that the GitHub Token is valid",message12:"Please enter a branch name",message13:"The {branch} branch already exists, please select from the list of branches",message14:"The {branch} branch was created successfully.",createBranch:"Create new branch",reload:"Reload all {type} data",dirMode:"Dir Mode",inputNewDir:"Manually input a new directory",createNewDir:"New Dir",rootDir:"Root Dir",rootDir2:"Images are stored in the root directory of {branch} branch",autoDir:"Auto Dir",autoDir2:"Automatically create a directory with format yyyyMMdd",repoDir:"Select directory in {repo} repository",repoDir2:"Choose a directory in the {branch} branch",selectDir:"Select Dir"},as={uploadAreaTips:"Drag / Paste / Click here to select images",uploaded:"Uploaded",upload:"Upload",message1:"Please complete the image hosting configuration first",message2:"Please select a repository",message3:"Directory cannot be empty",message4:"Please select an image to upload",message5:"Image uploaded successfully",message6:"Images uploaded successfully in batch",message7:"Upload failed, please try again later",message8:"Image uploaded successfully",fold:"Fold",expand:"Expand",hash:"Hashing",rename:"Rename",prefixNaming:"Prefix Naming",delete:"Delete",copyLink:"Copy image link",loading1:"Uploading ..."},os={reload:"Reload all data in the {dir} directory",loadingTxt1:"Loading ...",loadingTxt2:"Renaming ...",loadingTxt3:"Deleting ...",back:"Double-click back",toNextDir:"Double-click to enter the next level directory",property:"Property",delTips:"This operation will permanently delete the image",delTips2:"Are you sure you want to delete the selected {total} images in bulk?",renameTips:"Rename this picture to {name}?",message1:"Image name cannot be empty",message2:"Image name unchanged",message3:"Rename failed",message4:"Update successfully",message5:"Delete successfully",message6:"Batch delete successfully",message7:"Deletion failed, please try again later",imageName:"Image name",imageSize:"Image size",selectAll:"Select all",deselectAll:"Deselect all",unselect:"Unselect",batchCopy:"Batch copy image link",batchDelete:"Batch delete image",selectTotal:"Selected {total} images",contextmenu_1:"Upload new image from current location",contextmenu_2:"Upload image to < {dir} >",contextmenu_3:"Root directory"},ns={tool_1:"Image Compressor",tool_1_desc:"Offline ultimate compression without size or quantity limit, and without uploading to server",tool_2:"Image to Base64",tool_2_desc:"Online conversion of images to Base64 encoding without size or quantity limit",tool_3:"Image Watermark",tool_3_desc:"Customize watermark text, font size, position, color and opacity",copy_base64:"Click to copy Base64 encoding",copy_base64_success:"Base64 encoding copied successfully",click_download:"Click to download",compress:"Compress",batch_download:"Batch Download",add_watermark:"Add Watermark"},ss={text_1:"PicX is a GitHub API based image hosting tool, providing image upload and hosting, generating image links, and a set of commonly used image tools.",text_2:"We suggest adding our website to your browser bookmarks for easy future access.",text_3:"If PicX is helpful to you, please consider donating to the author to support open source development.",text_4:"Disclaimer: Do not upload images that violate the laws in your local jurisdiction. The author is not responsible for any consequences arising from such actions."},is={CN:"Mainland China",HK:"Hong Kong, China",MO:"Macao, China",TW:"Taiwan, China",SG:"Singapore",JP:"Japan",US:"United States"},ls={"zh-CN":"Simplified Chinese","zh-TW":"Traditional Chinese",en:"English"};var rs={repo:Fn,branch:Bn,dir:Pn,tips:zn,delete:"Delete",reset:Nn,confirm:Vn,cancel:Gn,author:Hn,document:jn,shortcut_key:Xn,copy_link:Wn,copy_success_1:qn,copy_success_2:Kn,copy_fail_1:Jn,header:Yn,nav:Zn,actions:Qn,settings:es,config:ts,upload:as,management:os,toolbox:ns,feedback:ss,region:is,language:ls,"toggle-language-msg":"We detected that your IP is located in {region}. Do you want to switch to {language}?"};const ye=za({locale:"zh-CN",messages:{"zh-CN":un,"zh-TW":Mn,en:rs}}),qt=e=>{const t=Object.prototype.toString.call(e).split(" ")[1];return t.substring(0,t.length-1).toLowerCase()},ae=()=>Number(Math.random().toString().substr(2,5)+Date.now()).toString(36),ht=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{t&&t()})},Kt=e=>{for(const t in e)switch(qt(e[t])){case"object":Kt(e[t]);break;case"string":e[t]="";break;case"array":e[t]=[];break;case"number":e[t]=0;break;case"boolean":e[t]=!1;break}},vt=(e,t)=>{for(const a in t)qt(t[a])!=="object"?e&&(e[a]=t[a]):vt(e[a],t[a])},Qe=(e="yyyy-MM-dd hh:mm:ss",t=Date.now())=>{function a(i){return`00${i}`.substr(i.length)}const o=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,`${o.getFullYear()}`.substr(4-RegExp.$1.length)));const n={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds()};for(const i in n)if(new RegExp(`(${i})`).test(e)){const l=`${n[i]}`;e=e.replace(RegExp.$1,RegExp.$1.length===1?l:a(l))}return e},cs=(e,t=500)=>{let a,o;function n(...i){o=i,a||(a=setTimeout(()=>{e(...o),a=void 0},t))}return n},Jt=e=>{e&&(window.document.title=`${ye.global.t(e)} | PicX`)};function us(e){return new Promise((t,a)=>{const o=new FileReader;o.onload=()=>{const n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.onload=()=>t(n),n.onerror=a,n.src=o.result},o.onerror=a,o.readAsDataURL(e)})}function ds(e){if(e)e=e.replace("#","");else return"255,255,255";const t=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return`${t}, ${a}, ${o}`}async function Yt(e,t){const{text:a,fontSize:o,position:n,textColor:i,opacity:l}=t,[s,u,c]=ds(i).split(","),f=await us(e),b=document.createElement("canvas"),w=b.getContext("2d");b.width=f.width,b.height=f.height,w.drawImage(f,0,0),w.font=`bold ${o}px Arial`,w.strokeStyle=`rgba(0, 0, 0, ${l})`,w.lineWidth=3,w.fillStyle=`rgba(${s}, ${u}, ${c}, ${l})`;let v=0,p=0;switch(n){case ue.leftTop:v=10,p=o+5;break;case ue.rightTop:v=b.width-w.measureText(a).width-10,p=o+5;break;case ue.leftBottom:v=10,p=b.height-15;break;case ue.rightBottom:v=b.width-w.measureText(a).width-10,p=b.height-15;break}return w.strokeText(a,v,p),w.fillText(a,v,p),new Promise(h=>{b.toBlob(C=>{if(!C)h(null);else{const S=new File([C],e.name,{type:e.type});h(S)}},e.type)})}const Zt=()=>({uuid:"",base64:{originalBase64:"",watermarkBase64:null,compressBase64:null},fileInfo:{originalFile:null,watermarkFile:null,compressFile:null},filename:{hash:"",suffix:"",name:"",prefixName:"",final:"",initName:"",newName:"",isHashRename:!0,isRename:!1,isPrefix:!1},beforeUploadStatus:{watermarking:!1,compressing:!1},uploadStatus:{progress:0,uploading:!1},reUploadInfo:{dir:"",path:"",isReUpload:!1}}),ms=(e,t)=>({type:"image",uuid:ae(),dir:t,name:e.name,sha:e.sha,path:e.path,deleting:!1,size:e.size,checked:!1});async function ps(e,t){e.deleting=!0;const{owner:a,selectedRepo:o}=t,{path:n,sha:i}=e;return new Promise(async l=>{const s=await da(a,o,n,i);e.deleting=!1,s?(l(!0),await N.dispatch("UPLOAD_IMG_LIST_REMOVE",e.uuid),await N.dispatch("DIR_IMAGE_LIST_REMOVE",e)):l(!1)})}const Be=(e,t=!1)=>{e.forEach(a=>{a.deleting=t})};async function gs(e,t){Be(e,!0);const{owner:a,selectedRepo:o,selectedBranch:n}=t,i=await ca(a,o,n);if(!i)throw Be(e,!1),new Error("\u83B7\u53D6\u5206\u652F\u4FE1\u606F\u5931\u8D25");const l=await ma(a,o,e.map(c=>({path:c.path,sha:null})),i);if(!l)throw Be(e,!1),new Error("\u521B\u5EFA tree \u5931\u8D25");const s=await pa(a,o,l,i);if(!s)throw Be(e,!1),new Error("\u521B\u5EFA commit \u5931\u8D25");if(!await ga(a,o,n,s.sha))throw Be(e,!1),new Error("\u66F4\u65B0 ref \u5931\u8D25");e.forEach(c=>{c.deleting=!1,N.dispatch("UPLOAD_IMG_LIST_REMOVE",c.uuid),N.dispatch("DIR_IMAGE_LIST_REMOVE",c)})}async function _s(e,t){if(e.length===1)return await ps(e[0],t)?be.deleted:be.deleteFail;try{return await gs(e,t),be.allDeleted}catch(a){return console.error(a),be.deleteFail}}function fs(e,t){const a=document.createElement("canvas"),o=a.getContext("2d"),n=new Image;return n.crossOrigin="Anonymous",n.src=e,new Promise(i=>{n.onload=()=>{const{width:l}=n,{height:s}=n;a.width=l,a.height=s,o==null||o.drawImage(n,0,0,l,s);const u=a.toDataURL(`image/${t}`);i(u)}})}function hs(e){return new Promise(t=>{Z({baseURL:"",url:e,method:"GET",responseType:"blob"}).then(a=>{if(a){const o=new FileReader;o.onload=()=>{const n=o.result;t(n)},o.onerror=()=>{t(null)},o.readAsDataURL(a)}else t(null)}).catch(()=>{t(null)})})}function Pe(e){return new Promise(t=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{const o=a.result;t(o)},a.onerror=()=>t(null)})}function bt(e){const t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=e.name,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}const Qt=e=>{const t=e.indexOf(".");return e.substr(0,t).trim().replace(/\s+/g,"-")},yt=e=>{const t=e.lastIndexOf(".");return e.slice(t+1)},$t=e=>/(png|jpg|jpeg|gif|webp|awebp|avif|svg\+xml|svg|x-icon|vnd.microsoft.icon)$/.test(e),vs=e=>/(png|jpg|jpeg|webp|avif)$/.test(e),bs=e=>/(png|jpg|jpeg|webp|avif)$/.test(e),xe=e=>e&&Number((e/1024).toFixed(0)),ys=e=>new Promise(async t=>{e||t(null),$t(e.type)||(U.error(`${e.name} \u4E0D\u662F\u56FE\u7247\u683C\u5F0F`),t(null));const a=await Pe(e)||"";xe(a.length)>=zt*1024&&(U.error(`${e.name} \u8D85\u8FC7 ${zt} MB\uFF0C\u8DF3\u8FC7\u9009\u62E9`),t(null)),t({uuid:ae(),base64:a,file:e})}),ea=async(e,t)=>vs(e.type)?new Na(e,{encoderState:{type:t,options:Va[t].meta.defaultOptions},processorState:Ga,preprocessorState:Ha}).process():e,wt=(e,t,a)=>{var i;const o=a.imageLinkType.selected,n=(i=a.imageLinkType.presetList.find(l=>l.name===o))==null?void 0:i.rule;if(n){const{owner:l,selectedRepo:s,selectedBranch:u}=t;return n.replaceAll("{{owner}}",l).replaceAll("{{repo}}",s).replaceAll("{{branch}}",u).replaceAll("{{path}}",e.path)}return null},ta=(e,t,a)=>{var o;if(a.imageLinkFormat.enable){const n=a.imageLinkFormat.selected,i=(o=a.imageLinkFormat.presetList.find(l=>l.name===n))==null?void 0:o.format;if(i)return i.replaceAll("imageLink",e||"").replaceAll("imageName",t.split(".")[0])}return e},aa=(e=!1)=>{const t=e?ye.global.t("copy_success_1"):ye.global.t("copy_success_2");U({type:e?"info":"success",message:t,duration:e?6e3:4e3})},et=(e,t,a,o=!1)=>{const n=ta(wt(e,t,a),e.name,a);n?ht(n,()=>{aa(o)}):U.error({message:ye.global.t("copy_fail_1")})},oa=(e,t,a,o=!1)=>{if((e==null?void 0:e.length)>0){let n="";e.forEach((i,l)=>{n+=`${ta(wt(i,t,a),i.name,a)}${l<e.length-1?`
`:""}`}),ht(n,()=>{aa(o)})}},$s=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,na=()=>{const{platform:e}=navigator;return e.includes("Mac")?"mac":e.includes("Win")?"win":e.includes("Linux")?"linux":null},ws=async()=>{try{const e=await it.get("https://api.ipify.org?format=json"),t=await it.get(`https://ipapi.co/${e.data.ip}/country/`);return Promise.resolve(t.data)}catch{return Promise.resolve("CN")}},Is=e=>e==="CN"?de.zhCN:e==="HK"||e==="TW"||e==="MO"?de.zhTW:de.en,sa=()=>{const e={token:"",owner:"",email:"",name:"",avatarUrl:"",selectedRepo:"",repoList:[],branchMode:fe.repoBranch,branchList:[],selectedBranch:"",selectedDir:"",dirMode:Q.repoDir,dirList:[],logined:!1,selectedDirList:[],viewDir:""},t=localStorage.getItem(ft);return t&&(vt(e,JSON.parse(t)),e.selectedBranch&&!e.branchList.length&&(e.branchList=[{value:e.selectedBranch,label:e.selectedBranch}]),e.dirMode===Q.autoDir&&(e.selectedDir=Qe("yyyyMMdd"))),e},ks=e=>{const{selectedDir:t,selectedBranch:a,dirMode:o}=e.userConfigInfo;if(o==="newDir"){const n=t.split("");let i=0,l="";const s=[" ",".","\u3001",",","\uFF0C","!","\uFF1F","?"];for(let u=0;u<n.length&&(s.some(c=>c===n[u])&&(n[u]="-"),n[u]==="/"&&(i+=1),!(i>=Pt));u++)l+=n[u];e.userConfigInfo.selectedDir=l}e.userConfigInfo.selectedBranch=a.replace(/\s+/g,"-")},Ss={state:{userConfigInfo:sa()},actions:{USER_CONFIG_INFO_RESET({state:e}){e.userConfigInfo=sa()},SET_USER_CONFIG_INFO({state:e,dispatch:t},a){for(const o in a)e.userConfigInfo.hasOwnProperty(o)&&(e.userConfigInfo[o]=a[o]);t("USER_CONFIG_INFO_PERSIST")},USER_CONFIG_INFO_ADD_DIR({state:e,dispatch:t},a){e.userConfigInfo.dirList.some(o=>o.value===a)||(e.userConfigInfo.dirList.push({label:a,value:a}),t("USER_CONFIG_INFO_PERSIST"))},USER_CONFIG_INFO_REMOVE_DIR({state:e,dispatch:t},a){const{dirList:o}=e.userConfigInfo;if(o.some(n=>n.value===a)){const n=o.findIndex(i=>i.value===a);o.splice(n,1),t("USER_CONFIG_INFO_PERSIST")}},USER_CONFIG_INFO_PERSIST({state:e}){ks(e),localStorage.setItem(ft,JSON.stringify(e.userConfigInfo))},USER_CONFIG_INFO_LOGOUT({state:e}){Kt(e.userConfigInfo)}},getters:{getUserLoginStatus:e=>e.userConfigInfo.logined,getUserConfigInfo:e=>e.userConfigInfo,getUserViewDir:e=>e.userConfigInfo.viewDir}},Cs={state:{imgCardArr:[]},mutations:{IMAGE_CARD(e,{imageObj:t}){const{uuid:a,checked:o}=t;o&&e.imgCardArr.forEach(n=>{n.uuid===a&&(n.checked=!0)})},REPLACE_IMAGE_CARD(e,{checkedImgArr:t}){t.length>0?e.imgCardArr=t:e.imgCardArr=[]}},actions:{},getters:{getImageCardArr:e=>e.imgCardArr,getImageCardCheckedArr:e=>e.imgCardArr.filter(t=>t.checked)}},Ls={state:{uploadAreaActive:!1},mutations:{CHANGE_UPLOAD_AREA_ACTIVE(e,t){e.uploadAreaActive=t},UPLOAD_AREA_ACTIVE_LOGOUT(e){e.uploadAreaActive=!1}},getters:{getUploadAreaActive:e=>e.uploadAreaActive}},It={defaultHash:!0,prefixNaming:{enable:!1,prefix:""},compress:{enable:!0,encoder:ge.webP},theme:{mode:re.system},elementPlusSize:te.default,imageLinkType:{selected:"Staticaly",presetList:[{id:ae(),name:"Staticaly",rule:"https://cdn.staticaly.com/gh/{{owner}}/{{repo}}@{{branch}}/{{path}}"},{id:ae(),name:"ChinaJsDelivr",rule:"https://jsd.cdn.zzko.cn/gh/{{owner}}/{{repo}}@{{branch}}/{{path}}"},{id:ae(),name:"jsDelivr",rule:"https://cdn.jsdelivr.net/gh/{{owner}}/{{repo}}@{{branch}}/{{path}}"},{id:ae(),name:"GitHub",rule:"https://github.com/{{owner}}/{{repo}}/raw/{{branch}}/{{path}}"}]},imageLinkFormat:{enable:!1,selected:"Markdown",presetList:[{name:"Markdown",format:"![imageName](imageLink)"},{name:"HTML",format:'<img src="imageLink" alt="imageName" />'},{name:"BBCode",format:"[img]imageLink[/img]"}]},starred:!1,watermark:{enable:!1,text:"PicX",fontSize:50,position:ue.rightBottom,textColor:"#FFFFFF",opacity:.5},language:de.zhCN},Ds=()=>{const e=Vt(Bt);return e&&vt(It,e),It},ia=(e,t,a)=>{const o=t==="add"?"\u6DFB\u52A0":"\u7F16\u8F91",n=[];if(e.rule.includes("{{owner}}")||n.push("{{owner}}"),e.rule.includes("{{repo}}")||n.push("{{repo}}"),e.rule.includes("{{branch}}")||n.push("{{branch}}"),!n.length){a(!0);return}if(e.rule.includes("{{path}}")){let i=`\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u7F3A\u5C11 ${n.join("\u3001")}\uFF0C\u662F\u5426\u786E\u8BA4${o}\uFF1F`;t==="edit"&&(i=`\u6CE8\u610F\uFF1A\u5F53\u524D\u7F16\u8F91\u7684\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u7F3A\u5C11 ${n.join("\u3001")}`),Le.confirm(i,`${o}\u63D0\u793A`,{type:"warning",showClose:t==="add",showCancelButton:t==="add"}).then(()=>{a(!0)}).catch(()=>{console.log(`\u53D6\u6D88${o}`),a(!1)})}else U.error(`${o}\u5931\u8D25\uFF0C\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u5FC5\u987B\u5305\u542B {{path}}`)},Es={state:{userSettings:Ds()},actions:{SET_USER_SETTINGS({state:e,dispatch:t},a){for(const o in a)e.userSettings.hasOwnProperty(o)&&(e.userSettings[o]=a[o]);t("USER_SETTINGS_PERSIST")},ADD_IMAGE_LINK_TYPE_RULE({state:e,dispatch:t},a){e.userSettings.imageLinkType.presetList.some(n=>n.name===a.name)?U.error("\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BE5\u56FE\u7247\u94FE\u63A5\u89C4\u5219\u89C4\u5219\u5DF2\u5B58\u5728"):ia(a,"add",n=>{n&&(e.userSettings.imageLinkType.presetList.push(a),t("USER_SETTINGS_PERSIST"))})},UPDATE_IMAGE_LINK_TYPE_RULE({state:e,dispatch:t},a){ia(a,"edit",o=>{if(o){const n=e.userSettings.imageLinkType.presetList.find(i=>i.id===a.id);n&&(n.rule=a.rule,t("USER_SETTINGS_PERSIST"))}})},DEL_IMAGE_LINK_TYPE_RULE({state:e,dispatch:t},a){const o=e.userSettings.imageLinkType.presetList;o.splice(o.findIndex(n=>n.id===a),1),t("USER_SETTINGS_PERSIST")},USER_SETTINGS_PERSIST({state:e}){localStorage.setItem(Bt,JSON.stringify(e.userSettings))},USER_SETTINGS_LOGOUT({state:e}){e.userSettings=It}},getters:{getUserSettings:e=>e.userSettings}},xs={state:{toolboxImageList:[]},mutations:{},actions:{TOOLBOX_IMG_LIST_ADD({state:e},t){e.toolboxImageList.unshift(t)},TOOLBOX_IMG_LIST_REMOVE({state:e},t){if(e.toolboxImageList.length>0){const a=e.toolboxImageList.findIndex(o=>o.uuid===t);a!==-1&&e.toolboxImageList.splice(a,1)}},TOOLBOX_IMG_LIST_RESET({state:e}){e.toolboxImageList=[]}},getters:{getToolboxImageList:e=>e.toolboxImageList}},Ts={state:{uploadImageList:[]},mutations:{},actions:{UPLOAD_IMG_LIST_ADD({state:e},t){e.uploadImageList.unshift(t)},UPLOAD_IMG_LIST_REMOVE({state:e},t){if(e.uploadImageList.length>0){const a=e.uploadImageList.findIndex(o=>o.uuid===t);a!==-1&&e.uploadImageList[a].uploadStatus.progress===0&&e.uploadImageList.splice(a,1)}},UPLOAD_IMG_LIST_RESET({state:e}){e.uploadImageList=[]}},getters:{getUploadImageList:e=>e.uploadImageList}},N=ja({modules:{dirImageListModule:Fo,userConfigInfoModule:Ss,imageCardModule:Cs,uploadAreaActiveModule:Ls,userSettingsModule:Es,toolboxImageListModule:xs,uploadImageListModule:Ts},state:{rootName:"root"},mutations:{},actions:{LOGOUT({dispatch:e,commit:t}){t("UPLOAD_AREA_ACTIVE_LOGOUT"),e("DIR_IMAGE_LOGOUT"),e("USER_CONFIG_INFO_LOGOUT"),e("USER_SETTINGS_LOGOUT"),e("TOOLBOX_IMG_LIST_RESET"),e("UPLOAD_IMG_LIST_RESET"),localStorage.clear(),sessionStorage.clear()}},getters:{}}),la=Symbol("vuex-store");function oe(){return Xa(la)}const ra=(e,t="")=>{const{owner:a,selectedRepo:o,selectedBranch:n}=e;return new Promise(async i=>{const l=await Z({url:`/repos/${a}/${o}/contents/${t}`,method:"GET",params:{ref:n}});l&&l.length?i(l.filter(s=>s.type==="dir").map(s=>({value:s.name,label:s.name}))):i(null)})},tt=(e,t="")=>{const{owner:a,selectedRepo:o,selectedBranch:n}=e;return new Promise(async i=>{const l=await Z({url:`/repos/${a}/${o}/contents/${t}`,method:"GET",params:{"no-cache":ae(),ref:n}});l&&l.length?(l.filter(s=>s.type==="dir").forEach(s=>N.dispatch("DIR_IMAGE_LIST_ADD_DIR",s.path)),setTimeout(()=>{l.filter(s=>s.type==="file"&&$t(yt(s.name))).forEach(s=>{N.dispatch("DIR_IMAGE_LIST_ADD_IMAGE",ms(s,t))})},120),i(!0)):i(null)})},ca=(e,t,a)=>Z({url:`/repos/${e}/${t}/branches/${a}`,method:"GET"}),ua=(e,t)=>new Promise(async a=>{const o=await Z({url:`/repos/${e}/${t}/branches`,method:"GET"});o&&o.length?a(o.filter(n=>!n.protected).map(n=>({value:n.name,label:n.name})).reverse()):a(null)}),Rs=async(e,t,a)=>{const{owner:o,selectedRepo:n,branchList:i}=e,l=Re.service({text:`\u6B63\u5728\u65B0\u5EFA ${t} \u5206\u652F...`});try{let s="";const u=await Z({url:`/repos/${o}/${n}/git/refs/heads/${i[0].value}`,method:"GET"});if(u&&(s=u.object.sha),!s){l.close(),U.error("\u65B0\u5EFA\u5206\u652F\u5931\u8D25");return}let c="";const f=await Z({url:`/repos/${o}/${n}/git/refs`,method:"POST",params:{ref:`refs/heads/${t}`,sha:s}});if(f&&(c=f.object.sha),!c){l.close(),U.error("\u65B0\u5EFA\u5206\u652F\u5931\u8D25");return}await Z({url:`/repos/${o}/${n}/git/refs/heads/${t}`,method:"PATCH",params:{force:!0,sha:c}})&&a()}catch(s){console.error(s)}},da=(e,t,a,o)=>Z({url:`/repos/${e}/${t}/contents/${a}`,method:"DELETE",data:{owner:e,repo:t,path:a,message:Do,sha:o}}),As=(e,t)=>Z({url:e,method:"PUT",data:t}),Os=(e,t,a)=>Z({url:`/repos/${t}/${a}/git/blobs`,method:"POST",params:{owner:t,repo:a,content:(e.base64.compressBase64||e.base64.watermarkBase64||e.base64.originalBase64).split(",")[1],encoding:"base64"}}),ma=(e,t,a,o)=>{var n,i,l;return Z({url:`/repos/${e}/${t}/git/trees`,method:"POST",params:{tree:a.map(s=>({path:s.path,mode:"100644",type:"blob",sha:s.sha})),base_tree:((l=(i=(n=o==null?void 0:o.commit)==null?void 0:n.commit)==null?void 0:i.tree)==null?void 0:l.sha)||null}})},pa=(e,t,a,o)=>Z({url:`/repos/${e}/${t}/git/commits`,method:"POST",params:{tree:a.sha,parents:[o.commit.sha],message:Lo}}),ga=(e,t,a,o)=>Z({url:`/repos/${e}/${t}/git/refs/heads/${a}`,method:"PATCH",params:{sha:o}}),_a=G({__name:"repo-dir-cascader",props:{elKey:{type:String,default:""},elSize:{type:String,default:te.default},elWidth:{type:String,default:"100%"},elClearable:{type:Boolean,default:!1}},setup(e){const t=oe(),a=O(()=>t.getters.getUserConfigInfo).value,o={lazy:!0,checkStrictly:!0,async lazyLoad(i,l){const{level:s,pathLabels:u}=i;let c;s===0?c=a.dirList:c=await ra(a,u.join("/")),l(c?c.map(f=>({value:f.value,label:f.label,leaf:s>=Pt-1})):[])}},n=i=>{a.selectedDirList=i,a.selectedDir=i.join("/"),t.dispatch("USER_CONFIG_INFO_PERSIST")};return(i,l)=>{const s=Wa;return g(),x(s,{style:Ae({width:e.elWidth}),size:e.elSize,debounce:500,props:o,key:e.elKey,modelValue:d(a).selectedDirList,"onUpdate:modelValue":l[0]||(l[0]=u=>d(a).selectedDirList=u),filterable:"",placeholder:i.$t("config.placeholder5"),clearable:e.elClearable,onChange:n},null,8,["style","size","modelValue","placeholder","clearable"])}}}),Us={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ms=m("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),Fs=[Ms];function Bs(e,t){return g(),y("svg",Us,Fs)}var fa={name:"ep-refresh",render:Bs};var W=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a};const Ps=G({__name:"refresh-config",props:{boxWidth:{type:Number,default:20},dataType:{type:String,default:"repo"}},setup(e){const t=e,a=we(),o=oe(),n=O(()=>o.getters.getUserConfigInfo).value,i=async()=>{const l=Re.service({lock:!0,text:a.proxy.$t("config.loading4",{type:a.proxy.$t(t.dataType)})}),{owner:s,selectedRepo:u}=n;if(t.dataType==="repo"){const c=await jt(s);c&&(n.repoList=c)}else if(t.dataType==="branch"){const c=await ua(s,u);c&&(n.branchList=c)}l.close(),await o.dispatch("USER_CONFIG_INFO_PERSIST")};return(l,s)=>{const u=fa,c=_e,f=$e;return g(),y("div",{class:"refresh-config-box",style:Ae({width:e.boxWidth+"rem"})},[r(f,{placement:"top",content:l.$t("config.reload",{type:l.$t(e.dataType)})},{default:_(()=>[r(c,{class:"icon",onClick:i},{default:_(()=>[r(u)]),_:1})]),_:1},8,["content"])],4)}}});var zs=W(Ps,[["__scopeId","data-v-45c6dcd0"]]);const H=O(()=>N.getters.getUserConfigInfo).value,Ns=()=>{N.dispatch("LOGOUT")},he=()=>{N.dispatch("USER_CONFIG_INFO_PERSIST")};function ha(e){H.logined=!0,H.owner=e.login,H.name=e.name,H.email=e.email,H.avatarUrl=e.avatar_url,he()}const Vs=()=>{H.selectedRepo="",H.repoList=[],H.selectedBranch="",H.branchMode=fe.repoBranch,H.branchList=[],H.selectedDir="",H.dirMode=Q.repoDir,H.dirList=[]},Gs=async e=>{const{selectedDir:t,dirMode:a}=H;let o=e("config.message6");if(t===""){switch(a){case Q.newDir:o=e("config.message7");break;case Q.repoDir:o=e("config.message8",{repo:H.selectedRepo});break}U.warning({message:o})}else await Te.push("/upload")},Hs=async e=>{const{token:t}=H;if(!t){U.error({message:e("config.message1")});return}const a=Re.service({lock:!0,text:e("config.loading6")});try{const o=await Ht(H.token);if(console.log("getGitHubUserInfo >> ",o),!o){a.close(),U.error({message:e("config.message2")});return}ha(o);const n=await Ao(H.token);if(console.log("createRepo >> ",n),!n){a.close(),U.error({message:e("config.message3")});return}H.repoList=[{value:qe,label:qe}],H.selectedRepo=qe,H.branchList=[{value:Ke,label:Ke}],H.selectedBranch=Ke,H.branchMode=fe.repoBranch,H.selectedDir=Qe("yyyyMMdd"),H.dirMode=Q.autoDir,H.dirList=[],he(),await Xt(H,!1),a.close(),U.success({message:e("config.message4")}),await Te.push("/upload")}catch(o){U.error({message:e("config.message5")}),console.error("oneClickAutoConfig >> ",o)}},ze=e=>e.language===de.en?"100rem":"70rem",Ne=e=>e.elementPlusSize===te.large?"right":"top";const js={class:"page-container config-page-container"},Xs=G({__name:"my-config",setup(e){const t=oe(),a=we(),o=T(!1),n=T(!1),i=T(!1),l=T(32),s=O(()=>t.getters.getUserConfigInfo).value,u=O(()=>t.getters.getUserLoginStatus).value,c=O(()=>t.getters.getUserSettings).value,f=O(()=>!s.token||!s.owner),b=O(()=>o.value||n.value||i.value),w=T(null),v=T(null),p=T(""),h=T("repoDirCascaderKey"),C=T(null),S=I=>{var D;switch(I){case Q.rootDir:s.selectedDir="/";break;case Q.autoDir:s.selectedDir=Qe("yyyyMMdd");break;case Q.newDir:s.selectedDir="xxx",(D=w.value)==null||D.focus();break;case Q.repoDir:s.dirList.length||(s.selectedDir="",s.selectedDirList=[]);break;default:s.selectedDir="/";break}he()};async function M(I){var P;const D=await jt(I);console.log("getAllRepoList >> ",D),o.value=!1,D?(s.repoList=D,he()):U.error({message:(P=a==null?void 0:a.proxy)==null?void 0:P.$t("config.message9")})}async function k(){n.value=!0;const I=await ra(s);console.log("getDirInfoList >> ",I),n.value=!1,I&&(s.dirList=I),he()}const F=I=>{var B;const D=s.selectedBranch,P=s.branchList[0].value;switch(I){case fe.newBranch:s.dirMode=Q.newDir,s.selectedBranch="",s.selectedDir="",(B=v.value)==null||B.focus();break;case fe.repoBranch:D!==P&&(s.selectedBranch=P,k());break;default:s.selectedBranch="";break}he()};async function E(I){var V;i.value=!0;const{owner:D,dirMode:P}=s,B=await ua(D,I);console.log("getBranchInfoList >> ",B),i.value=!1,B?(B.length>0?(s.branchList=B,s.selectedBranch=s.branchList[0].value,s.branchMode=fe.repoBranch,await k()):(s.selectedBranch=Ke,s.branchMode=fe.newBranch,await Xt(s)),S(P),he()):U.error({message:(V=a==null?void 0:a.proxy)==null?void 0:V.$t("config.message10")})}async function A(){var D,P;if(!s.token){U.error({message:(D=a==null?void 0:a.proxy)==null?void 0:D.$t("config.message1")});return}f.value||Vs(),o.value=!0;const I=await Ht(s.token);if(console.log("getGitHubUserInfo >> ",I),!I){U.error({message:(P=a==null?void 0:a.proxy)==null?void 0:P.$t("config.message11")});return}ha(I),await M(I.login)}function q(I){s.branchList=[],s.dirList=[],t.dispatch("DIR_IMAGE_LOGOUT"),E(I),he()}async function K(I){s.selectedBranch=I,await k(),h.value=s.selectedBranch,s.selectedDir=s.dirList[0].value,s.selectedDirList=[s.selectedDir],he()}const ie=()=>{var P,B;const I=p.value,D=s.branchList;I?D.find(V=>V.value===I)?U.error({message:(P=a==null?void 0:a.proxy)==null?void 0:P.$t("config.message13",{branch:I})}):Rs(s,I,()=>{var V;U.error({message:(V=a==null?void 0:a.proxy)==null?void 0:V.$t("config.message14",{branch:I})}),s.branchList.push({value:I,label:I})}):U.error({message:(B=a==null?void 0:a.proxy)==null?void 0:B.$t("config.message12")})};return ne(()=>u,I=>{I||(o.value=!1,n.value=!1,i.value=!1)}),ce(()=>{s.token||setTimeout(()=>{C.value.focus()},100)}),(I,D)=>{const P=De,B=lt,V=Ie,ee=$e,j=rt,X=ct,Se=ut,Ce=zs,J=dt,Ve=mt,Lt=_a,nt=Oe;return g(),y("div",js,[r(j,{"label-width":d(ze)(d(c)),"label-position":d(Ne)(d(c))},{default:_(()=>[r(B,{label:"Token"},{default:_(()=>[r(P,{ref_key:"tokenInputRef",ref:C,modelValue:d(s).token,"onUpdate:modelValue":D[0]||(D[0]=z=>d(s).token=z),clearable:"",autofocus:!d(s).token,type:"password","show-password":"",placeholder:I.$t("config.inputToken")},null,8,["modelValue","autofocus","placeholder"])]),_:1}),r(B,{class:"operation"},{default:_(()=>[r(ee,{placement:"top",content:I.$t("config.manualConfiguration3")},{default:_(()=>[r(V,{disabled:b.value,plain:"",type:"primary","native-type":"submit",onClick:D[1]||(D[1]=ke(z=>A(),["prevent"]))},{default:_(()=>[R($(f.value?I.$t("config.manualConfiguration1"):I.$t("config.manualConfiguration2")),1)]),_:1},8,["disabled"])]),_:1},8,["content"]),r(ee,{placement:"top",content:I.$t("config.autoConfiguration3")},{default:_(()=>[r(V,{plain:"",disabled:b.value,type:"primary",onClick:D[2]||(D[2]=ke(z=>d(Hs)(I.$t),["prevent"]))},{default:_(()=>[R($(f.value?I.$t("config.autoConfiguration1"):I.$t("config.autoConfiguration2")),1)]),_:1},8,["disabled"])]),_:1},8,["content"])]),_:1})]),_:1},8,["label-width","label-position"]),d(s).token&&d(s).owner?le((g(),x(j,{key:0,"label-width":d(ze)(d(c)),"label-position":d(Ne)(d(c)),"element-loading-text":I.$t("config.loading1")},{default:_(()=>[d(s).owner?(g(),x(B,{key:0,label:I.$t("config.username")},{default:_(()=>[r(P,{modelValue:d(s).owner,"onUpdate:modelValue":D[3]||(D[3]=z=>d(s).owner=z),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):L("",!0),d(s).email?(g(),x(B,{key:1,label:I.$t("config.email")},{default:_(()=>[r(P,{modelValue:d(s).email,"onUpdate:modelValue":D[4]||(D[4]=z=>d(s).email=z),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):L("",!0),d(s).repoList.length?(g(),x(B,{key:2,label:I.$t("config.selectRepo")},{default:_(()=>[r(Se,{modelValue:d(s).selectedRepo,"onUpdate:modelValue":D[5]||(D[5]=z=>d(s).selectedRepo=z),filterable:!0,style:Ae({width:"calc(100% - "+l.value+"rem)"}),placeholder:I.$t("config.placeholder1"),onChange:q},{default:_(()=>[(g(!0),y(me,null,pe(d(s).repoList,(z,st)=>(g(),x(X,{key:st,label:z.label,value:z.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","style","placeholder"]),r(Ce,{"box-width":l.value,"data-type":"repo"},null,8,["box-width"])]),_:1},8,["label"])):L("",!0)]),_:1},8,["label-width","label-position","element-loading-text"])),[[nt,o.value]]):L("",!0),d(s).token&&d(s).selectedRepo&&d(s).branchList.length?le((g(),x(j,{key:1,"label-width":d(ze)(d(c)),"label-position":d(Ne)(d(c)),"element-loading-text":I.$t("config.loading2")},{default:_(()=>[(d(s).selectedRepo,L("",!0)),d(s).branchList.length&&d(s).branchMode===d(fe).repoBranch?(g(),x(B,{key:1,label:I.$t("config.selectBranch")},{default:_(()=>[r(Se,{modelValue:d(s).selectedBranch,"onUpdate:modelValue":D[7]||(D[7]=z=>d(s).selectedBranch=z),filterable:!0,style:Ae({width:"calc(100% - "+l.value+"rem)"}),placeholder:I.$t("config.placeholder2"),onChange:K},{default:_(()=>[(g(!0),y(me,null,pe(d(s).branchList,(z,st)=>(g(),x(X,{key:st,label:z.label,value:z.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","style","placeholder"]),r(Ce,{"box-width":l.value,"data-type":"branch"},null,8,["box-width"])]),_:1},8,["label"])):L("",!0),d(s).branchMode===d(fe).newBranch?(g(),x(B,{key:2,label:I.$t("config.createBranch")},{default:_(()=>[r(P,{modelValue:p.value,"onUpdate:modelValue":D[8]||(D[8]=z=>p.value=z),onBlur:ie,clearable:"",placeholder:I.$t("config.placeholder3"),ref_key:"newBranchInputRef",ref:v},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):L("",!0)]),_:1},8,["label-width","label-position","element-loading-text"])),[[nt,i.value]]):L("",!0),d(s).token&&d(s).selectedBranch?le((g(),x(j,{key:2,"label-width":d(ze)(d(c)),"label-position":d(Ne)(d(c)),"element-loading-text":I.$t("config.loading5")},{default:_(()=>[d(s).selectedBranch?(g(),x(B,{key:0,label:I.$t("config.dirMode")},{default:_(()=>[r(Ve,{modelValue:d(s).dirMode,"onUpdate:modelValue":D[9]||(D[9]=z=>d(s).dirMode=z),onChange:S},{default:_(()=>[r(ee,{content:I.$t("config.inputNewDir"),placement:"top",offset:-1},{default:_(()=>[r(J,{label:"newDir"},{default:_(()=>[R($(I.$t("config.createNewDir")),1)]),_:1})]),_:1},8,["content"]),r(ee,{content:I.$t("config.rootDir2",{branch:d(s).selectedBranch}),placement:"top",offset:-1},{default:_(()=>[r(J,{label:"rootDir"},{default:_(()=>[R($(I.$t("config.rootDir")),1)]),_:1})]),_:1},8,["content"]),r(ee,{content:I.$t("config.autoDir2"),placement:"top",offset:-1},{default:_(()=>[r(J,{label:"autoDir"},{default:_(()=>[R($(I.$t("config.autoDir")),1)]),_:1})]),_:1},8,["content"]),d(s).dirList.length&&d(s).branchMode!=="newBranch"?(g(),x(ee,{key:0,content:I.$t("config.repoDir2",{branch:d(s).selectedBranch}),placement:"top",offset:-1},{default:_(()=>[r(J,{label:"repoDir"},{default:_(()=>[R($(I.$t("config.repoDir",{repo:d(s).selectedRepo})),1)]),_:1})]),_:1},8,["content"])):L("",!0)]),_:1},8,["modelValue"])]),_:1},8,["label"])):L("",!0),d(s).dirMode==="autoDir"?(g(),x(B,{key:1,label:I.$t("config.autoDir")},{default:_(()=>[r(P,{modelValue:d(s).selectedDir,"onUpdate:modelValue":D[10]||(D[10]=z=>d(s).selectedDir=z),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):L("",!0),d(s).dirMode==="rootDir"?(g(),x(B,{key:2,label:I.$t("config.rootDir")},{default:_(()=>[r(P,{modelValue:d(s).selectedDir,"onUpdate:modelValue":D[11]||(D[11]=z=>d(s).selectedDir=z),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):L("",!0),d(s).dirMode==="newDir"?(g(),x(B,{key:3,label:I.$t("config.createNewDir")},{default:_(()=>[r(P,{ref_key:"newDirInputRef",ref:w,modelValue:d(s).selectedDir,"onUpdate:modelValue":D[12]||(D[12]=z=>d(s).selectedDir=z),onInput:D[13]||(D[13]=z=>d(he)()),clearable:"",placeholder:I.$t("config.placeholder4")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):L("",!0),d(s).dirList.length&&d(s).dirMode==="repoDir"&&d(s).branchMode!=="newBranch"?(g(),x(B,{key:4,label:I.$t("config.selectDir")},{default:_(()=>[r(Lt,{"el-key":h.value,"el-size":d(c).elementPlusSize},null,8,["el-key","el-size"])]),_:1},8,["label"])):L("",!0)]),_:1},8,["label-width","label-position","element-loading-text"])),[[nt,n.value]]):L("",!0),d(s).token?(g(),x(j,{key:3,"label-width":d(ze)(d(c)),"label-position":d(Ne)(d(c))},{default:_(()=>[r(B,{class:"operation"},{default:_(()=>[d(s).owner?(g(),x(V,{key:0,plain:"",disabled:b.value,type:"warning",onClick:D[14]||(D[14]=z=>d(Ns)())},{default:_(()=>[R($(I.$t("reset")),1)]),_:1},8,["disabled"])):L("",!0),d(s).selectedRepo?(g(),x(V,{key:1,plain:"",disabled:b.value,type:"success",onClick:D[15]||(D[15]=z=>d(Gs)(I.$t))},{default:_(()=>[R($(I.$t("confirm")),1)]),_:1},8,["disabled"])):L("",!0)]),_:1})]),_:1},8,["label-width","label-position"])):L("",!0)])}}});var Ws=W(Xs,[["__scopeId","data-v-6ff20fd0"]]);const qs={key:0,class:"selected-info-bar-box"},Ks={class:"info-item repo"},Js={key:0,class:"info-item branch"},Ys={class:"info-item dir"},Zs=G({__name:"selected-info-bar",props:{barType:{type:String,default:"upload"}},setup(e){const t=oe(),a=O(()=>t.getters.getUserConfigInfo),o=O(()=>t.getters.getUserSettings);return(n,i)=>{const l=qa,s=_a;return a.value.selectedRepo?(g(),y("div",qs,[m("span",Ks,[R($(n.$t("repo"))+"\uFF1A ",1),r(l,{"disable-transitions":""},{default:_(()=>[R($(a.value.selectedRepo),1)]),_:1})]),a.value.selectedBranch?(g(),y("span",Js,[R($(n.$t("branch"))+"\uFF1A ",1),r(l,{"disable-transitions":""},{default:_(()=>[R($(a.value.selectedBranch),1)]),_:1})])):L("",!0),m("span",Ys,[R($(n.$t("dir"))+"\uFF1A ",1),a.value.dirMode!==d(Q).repoDir||e.barType==="management"?(g(),x(l,{key:0,"disable-transitions":""},{default:_(()=>[R($(e.barType==="management"?a.value.viewDir:a.value.selectedDir),1)]),_:1})):L("",!0),a.value.dirMode===d(Q).repoDir&&e.barType==="upload"?(g(),x(s,{key:1,"el-size":o.value.elementPlusSize===d(te).large?d(te).default:o.value.elementPlusSize,"el-width":"","el-clearable":!1},null,8,["el-size"])):L("",!0)])])):L("",!0)}}});var va=W(Zs,[["__scopeId","data-v-02ac177a"]]);const Qs={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ei=m("path",{fill:"currentColor",d:"M544 864V672h128L512 480L352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),ti=[ei];function ai(e,t){return g(),y("svg",Qs,ti)}var oi={name:"ep-upload-filled",render:ai};const ni=e=>(He("data-v-7144607c"),e=e(),je(),e),si=["onDrop","onPaste"],ii=ni(()=>m("label",{for:"input-file-selector"},null,-1)),li={key:0,class:"upload-area-tips"},ri={class:"text"},ci=["src"],ui=G({__name:"getting-images",props:{disabled:{type:Boolean,default:!1}},emits:["getImgList"],setup(e,{expose:t,emit:a}){const o=oe(),n=O(()=>o.getters.getUploadAreaActive),i=T({uuid:"",base64:""}),l=T([]),s=()=>{const p=l.value.length,h=p>0?l.value[p-1]:{uuid:"",base64:""};i.value={uuid:h.uuid,base64:h.base64}},u=async p=>{if(!!p.length){l.value=[];for(const h of p){const C=await ys(h);C&&l.value.push(C)}s(),o.commit("CHANGE_UPLOAD_AREA_ACTIVE",!0),a("getImgList",l.value)}},c=async p=>{const h=p.target;await u(h.files),h.value="",h.value=h.defaultValue},f=async p=>{await u(p.dataTransfer.files)},b=async p=>{const h=Array.from(p.clipboardData.items).filter(C=>C.kind==="file"&&$t(C.type)).map(C=>C.getAsFile());await u(h)},w=()=>{l.value=[],i.value.uuid="",i.value.base64=""},v=p=>{const h=l.value.findIndex(C=>C.uuid===p);h!==-1&&l.value.splice(h,1),p===i.value.uuid&&s()};return ce(()=>{window.addEventListener("paste",b)}),Ka(()=>{window.removeEventListener("paste",b)}),t({reset:w,remove:v}),(p,h)=>{const C=oi,S=_e;return g(),y("div",{class:se(["getting-images-container",{focus:n.value&&i.value.base64,disabled:e.disabled}]),onDragover:h[0]||(h[0]=ke(()=>{},["prevent"])),onDrop:ke(f,["stop","prevent"]),onPaste:ke(b,["stop"])},[ii,m("input",{id:"input-file-selector",type:"file",accept:"image/*",onChange:c,multiple:"multiple"},null,32),i.value.base64?L("",!0):(g(),y("div",li,[r(S,{class:"icon"},{default:_(()=>[r(C)]),_:1}),m("div",ri,$(p.$t("upload.uploadAreaTips")),1)])),i.value.base64?(g(),y("img",{key:1,class:"preview-img",src:i.value.base64},null,8,ci)):L("",!0)],42,si)}}});var at=W(ui,[["__scopeId","data-v-7144607c"]]);const di=O(()=>N.getters.getUserSettings).value,mi=async e=>{const{starred:t}=e;t||await To()&&await N.dispatch("SET_USER_SETTINGS",{starred:!0})},pi=e=>{const t=Zt();t.uuid=e.uuid,t.base64.originalBase64=e.base64,t.fileInfo.originalFile=e.file;const{prefixNaming:a,defaultHash:o}=di,n=e.uuid,i=e.file.name.trim().replaceAll(" ","-"),l=i.lastIndexOf("."),s=i.slice(0,l),u=i.slice(l+1);return t.filename.initName=s,t.filename.name=a.enable?`${a.prefix}${s}`:s,t.filename.prefixName=a.prefix,t.filename.hash=n,t.filename.suffix=u,t.filename.final=o?`${t.filename.name}.${n}.${u}`:`${t.filename.name}.${u}`,t.filename.isHashRename=o,t.filename.isPrefix=a.enable,t},ba=(e,t,a)=>{var i;let o=a.selectedDir;((i=t==null?void 0:t.reUploadInfo)==null?void 0:i.isReUpload)&&(o=t.reUploadInfo.dir),t.uploadStatus.progress=100,t.uploadStatus.uploading=!1;const n={checked:!1,type:"image",uuid:t.uuid,dir:o,name:e.name,sha:e.sha,path:e.path,deleting:!1,size:e.size};t.uploadedImg=n,N.dispatch("DIR_IMAGE_LIST_ADD_DIR",o),N.dispatch("DIR_IMAGE_LIST_ADD_IMAGE",n)},gi=(e,t)=>{var s;const{owner:a,selectedRepo:o,selectedDir:n}=e,i=t.filename.final;let l=i;return n!=="/"&&(l=`${n}/${i}`),((s=t==null?void 0:t.reUploadInfo)==null?void 0:s.isReUpload)&&(l=t.reUploadInfo.path),`/repos/${a}/${o}/contents/${l}`};async function _i(e,t){const{selectedBranch:a,selectedRepo:o,selectedDir:n,owner:i}=e,l=[];for(const w of t){w.uploadStatus.uploading=!0;const v=await Os(w,i,o);v?l.push(Ge({img:w},v)):(w.uploadStatus.uploading=!1,U.error(`${w.filename.final} \u4E0A\u4F20\u5931\u8D25`))}const s=await ca(i,o,a);if(!s)return Promise.resolve(!1);const u=n==="/"?"":`${n}/`,c=await ma(i,o,l.map(w=>({sha:w.sha,path:`${u}${w.img.filename.final}`})),s);if(!c)return Promise.resolve(!1);const f=await pa(i,o,c,s);return!f||!await ga(i,o,a,f.sha)?Promise.resolve(!1):(l.forEach(w=>{const v=w.img.filename.final;ba({name:v,sha:w.sha,path:`${u}${v}`,size:0},w.img,e)}),Promise.resolve(!0))}function ya(e,t){const{selectedBranch:a,email:o,owner:n}=e,i={message:Co,branch:a,content:(t.base64.compressBase64||t.base64.watermarkBase64||t.base64.originalBase64).split(",")[1]};return o&&(i.committer={name:n,email:o}),t.uploadStatus.uploading=!0,new Promise(async l=>{const s=await As(gi(e,t),i);if(console.log("uploadSingleImage >> ",s),t.uploadStatus.uploading=!1,s){const{name:u,sha:c,path:f,size:b}=s.content;ba({name:u,sha:c,path:f,size:b},t,e),l(!0)}else l(!1)})}const fi={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},hi=m("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),vi=[hi];function bi(e,t){return g(),y("svg",fi,vi)}var $a={name:"ep-check",render:bi};const yi={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$i=m("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048L192 444.8L508.8 128l316.8 316.8l-45.312 45.248L544 253.696z"},null,-1),wi=[$i];function Ii(e,t){return g(),y("svg",yi,wi)}var wa={name:"ep-upload",render:Ii};const ki={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Si=m("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Ci=m("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768a384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896a448 448 0 0 1 0 896z"},null,-1),Li=[Si,Ci];function Di(e,t){return g(),y("svg",ki,Li)}var Ia={name:"ep-remove",render:Di};const Ei={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},xi=m("path",{fill:"currentColor",d:"M672 192L288 511.936L672 832z"},null,-1),Ti=[xi];function Ri(e,t){return g(),y("svg",Ei,Ti)}var Ai={name:"ep-caret-left",render:Ri};const Oi={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ui=m("path",{fill:"currentColor",d:"m192 384l320 384l320-384z"},null,-1),Mi=[Ui];function Fi(e,t){return g(),y("svg",Oi,Mi)}var ka={name:"ep-caret-bottom",render:Fi};const kt=(e,t)=>{e?t.filename.name=`${t.filename.prefixName}${t.filename.initName}`:t.filename.name=`${t.filename.initName}`,t.filename.isHashRename?t.filename.final=`${t.filename.name}.${t.filename.hash}.${t.filename.suffix}`:t.filename.final=`${t.filename.name}.${t.filename.suffix}`},Sa=(e,t)=>{e?t.filename.final=`${t.filename.name}.${t.filename.hash}.${t.filename.suffix}`:t.filename.final=`${t.filename.name}.${t.filename.suffix}`},Bi=(e,t)=>{t.filename.isRename=e,e?t.filename.name=t.filename.newName.trim().replace(/\s+/g,"-"):kt(t.filename.isPrefix,t),t.filename.isHashRename?t.filename.final=`${t.filename.name}.${t.filename.hash}.${t.filename.suffix}`:t.filename.final=`${t.filename.name}.${t.filename.suffix}`},Pi=async(e,t)=>{const{watermark:a,compress:o}=t;let n=e.fileInfo.originalFile;a.enable&&a.text&&!e.fileInfo.watermarkFile&&(e.beforeUploadStatus.watermarking=!0,e.fileInfo.watermarkFile=bs(e.fileInfo.originalFile.type)?await Yt(e.fileInfo.originalFile,a):e.fileInfo.originalFile,n=e.fileInfo.watermarkFile,e.base64.watermarkBase64=await Pe(n),e.beforeUploadStatus.watermarking=!1),o.enable&&!e.fileInfo.compressFile&&(e.beforeUploadStatus.compressing=!0,e.fileInfo.compressFile=await ea(n,o.encoder),n=e.fileInfo.compressFile,e.base64.compressBase64=await Pe(n),e.filename.suffix=yt(n.name),e.beforeUploadStatus.compressing=!1)};const zi=["element-loading-text"],Ni={class:"before-upload-handle-container"},Vi={class:"img-name text-ellipsis"},Gi={class:"operate-item"},Hi={class:"operate-item"},ji={key:0,class:"operate-item"},Xi={key:1,class:"img-info-box"},Wi={class:"file-size-box"},qi={key:0,class:"finial-file-size file-size-item"},Ki={class:"last-modified"},Ji=G({__name:"upload-image-card",props:{imgObj:{type:Object,require:!0,default:()=>({})}},emits:["remove"],setup(e,{emit:t}){const a=e,o=oe(),n=we(),i=T(null),l=O(()=>o.getters.getUserSettings).value,s=O(()=>o.getters.getUserConfigInfo).value,u=T(""),c=Xe({isHash:!1,prefixNaming:!1,isRename:!1,newName:""}),f=T(!0),b=p=>{t("remove",p)},w=()=>{a.imgObj.filename.newName=c.newName,setTimeout(()=>{var p;(p=i.value)==null||p.focus()},100),Bi(c.isRename,a.imgObj)},v=()=>{const{defaultHash:p,prefixNaming:h}=l;a.imgObj.uploadStatus.progress===0&&(a.imgObj.filename.isHashRename=p,a.imgObj.filename.isPrefix=h.enable,a.imgObj.filename.prefixName=h.prefix,kt(h.enable,a.imgObj),Sa(p,a.imgObj),c.isHash=a.imgObj.filename.isHashRename,c.prefixNaming=a.imgObj.filename.isPrefix,c.isRename=a.imgObj.filename.isRename,c.newName=a.imgObj.filename.newName)};return ne(()=>a.imgObj.uploadStatus,p=>{p.uploading&&(u.value=n.proxy.$t("upload.loading1"))},{deep:!0,immediate:!0}),ce(async()=>{await Pi(a.imgObj,l),v()}),(p,h)=>{var D,P,B,V,ee,j;const C=We,S=ka,M=Ai,k=_e,F=$e,E=xt,A=De,q=Ia,K=wa,ie=$a,I=Oe;return g(),y("div",{class:se(["upload-image-card-container",{"wait-upload":!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===0,uploading:e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress!==100,uploaded:!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===100}])},[le((g(),y("div",{class:"img-show-container","element-loading-text":u.value},[r(C,{src:e.imgObj.base64.compressBase64||e.imgObj.base64.watermarkBase64||e.imgObj.base64.originalBase64,fit:"cover",loading:"lazy","hide-on-click-modal":!0,"preview-src-list":[e.imgObj.base64.compressBase64||e.imgObj.base64.watermarkBase64||e.imgObj.base64.originalBase64]},null,8,["src","preview-src-list"])],8,zi)),[[I,e.imgObj.uploadStatus.uploading||e.imgObj.beforeUploadStatus.compressing||e.imgObj.beforeUploadStatus.watermarking]]),m("div",Ni,[m("div",{class:se(["img-name-box",{"no-border":e.imgObj.uploadStatus.progress===100}])},[m("span",Vi,$(e.imgObj.filename.final||e.imgObj.filename.name),1),e.imgObj.uploadStatus.progress===0?(g(),x(F,{key:0,placement:"top",offset:8,content:f.value?p.$t("upload.expand"):p.$t("upload.fold")},{default:_(()=>[r(k,{class:"fold-btn",onClick:h[0]||(h[0]=X=>f.value=!f.value)},{default:_(()=>[f.value?L("",!0):(g(),x(S,{key:0})),f.value?(g(),x(M,{key:1})):L("",!0)]),_:1})]),_:1},8,["content"])):L("",!0)],2),e.imgObj.uploadStatus.progress===0?(g(),y("div",{key:0,class:se(["img-name-operate-box",{folded:f.value}])},[m("div",Gi,[r(E,{label:p.$t("upload.hash"),modelValue:c.isHash,"onUpdate:modelValue":h[1]||(h[1]=X=>c.isHash=X),onChange:h[2]||(h[2]=X=>d(Sa)(X,e.imgObj))},null,8,["label","modelValue"])]),m("div",Hi,[r(E,{label:p.$t("upload.rename"),modelValue:c.isRename,"onUpdate:modelValue":h[3]||(h[3]=X=>c.isRename=X),onChange:w},null,8,["label","modelValue"]),e.imgObj.filename.isRename?(g(),x(A,{key:0,class:"rename-input",size:"small",modelValue:c.newName,"onUpdate:modelValue":h[4]||(h[4]=X=>c.newName=X),onInput:w,maxlength:d(Nt),ref_key:"renameInputRef",ref:i,clearable:""},null,8,["modelValue","maxlength"])):L("",!0)]),!e.imgObj.filename.isRename&&d(l).prefixNaming.enable&&d(l).prefixNaming.prefix?(g(),y("div",ji,[r(E,{label:p.$t("upload.prefixNaming"),modelValue:c.prefixNaming,"onUpdate:modelValue":h[5]||(h[5]=X=>c.prefixNaming=X),onChange:h[6]||(h[6]=X=>d(kt)(X,e.imgObj))},null,8,["label","modelValue"])])):L("",!0)],2)):L("",!0),e.imgObj.uploadStatus.progress===0?(g(),y("div",Xi,[m("div",Wi,[m("span",{class:se(["original-file-size file-size-item",{"del-line":(P=(D=e.imgObj.fileInfo)==null?void 0:D.compressFile)==null?void 0:P.size}])},$(d(xe)(e.imgObj.fileInfo.originalFile.size))+" KB ",3),((V=(B=e.imgObj.fileInfo)==null?void 0:B.compressFile)==null?void 0:V.size)?(g(),y("span",qi,$(d(xe)((j=(ee=e.imgObj.fileInfo)==null?void 0:ee.compressFile)==null?void 0:j.size))+" KB ",1)):L("",!0)]),m("span",Ki,$(d(Qe)("yyyy-MM-dd hh:mm",e.imgObj.fileInfo.originalFile.lastModified)),1)])):L("",!0)]),e.imgObj.uploadStatus.progress===100?(g(),y("div",{key:0,class:"after-upload-handle-container flex-center",onClick:h[7]||(h[7]=X=>d(et)(e.imgObj.uploadedImg,d(s),d(l)))},$(p.$t("upload.copyLink")),1)):L("",!0),e.imgObj.uploadStatus.progress===0?(g(),x(F,{key:1,placement:"top",offset:8,content:p.$t("upload.delete")},{default:_(()=>[r(k,{class:"del-img-btn",onClick:h[8]||(h[8]=X=>b(e.imgObj.uuid))},{default:_(()=>[r(q)]),_:1})]),_:1},8,["content"])):L("",!0),m("div",{class:se(["upload-status-box",{"wait-upload":!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===0,uploaded:!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===100}])},[r(k,null,{default:_(()=>[!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===0?(g(),x(K,{key:0})):L("",!0),!e.imgObj.uploadStatus.uploading&&e.imgObj.uploadStatus.progress===100?(g(),x(ie,{key:1})):L("",!0)]),_:1})],2)],2)}}});var Yi=W(Ji,[["__scopeId","data-v-b1d03a3c"]]);const Zi={class:"upload-page-container"},Qi={key:0,class:"upload-page-left page-container",style:{width:"300rem"}},el={class:"row-item"},tl={class:"content-box"},al={class:"row-item"},ol={class:"content-box upload-area-status"},nl={key:0},sl={key:0,class:"row-item"},il={class:"content-box",style:{"text-align":"right"}},ll={class:"shortcut-key"},rl={class:"shortcut-key"},cl=G({__name:"upload-image",setup(e){const t=oe(),a=Ue(),o=we(),n=T(null),i=O(()=>t.getters.getUserConfigInfo).value,l=O(()=>t.getters.getUserSettings).value,s=O(()=>t.getters.getUserLoginStatus),u=T([]),c=T(!1),f=O(()=>na()==="mac"?"Command":"Ctrl"),b=k=>{k.forEach(F=>{t.dispatch("UPLOAD_IMG_LIST_ADD",pi(F))})},w=()=>{var k;(k=n.value)==null||k.reset()},v=async k=>{if(k.length===1)return await ya(i,k[0])?ve.uploaded:ve.uploadFail;if(k.length>1)return await _i(i,k)?ve.allUploaded:ve.uploadFail},p=async(k,F=!1)=>{w(),F?oa(k,i,l,!0):et(k[0],i,l,!0),await t.dispatch("SET_USER_CONFIG_INFO",{viewDir:i.selectedDir}),await mi(l)},h=async()=>{var ie,I,D,P,B,V,ee;const{token:k,selectedRepo:F,selectedDir:E}=i;if(!k){U.error({message:(ie=o==null?void 0:o.proxy)==null?void 0:ie.$t("upload.message1")}),await a.push("/config");return}if(!F){U.error({message:(I=o==null?void 0:o.proxy)==null?void 0:I.$t("upload.message2")}),await a.push("/config");return}if(!E){U.error({message:(D=o==null?void 0:o.proxy)==null?void 0:D.$t("upload.message3")}),await a.push("/config");return}const A=u.value.filter(j=>j.uploadStatus.progress===0);if(A.length===0){U.error({message:(P=o==null?void 0:o.proxy)==null?void 0:P.$t("upload.message4")});return}c.value=!0;const q=await v(A);c.value=!1;const K=A.filter(j=>j.uploadStatus.progress===100).map(j=>j.uploadedImg);switch(q){case ve.uploaded:U.success({message:(B=o==null?void 0:o.proxy)==null?void 0:B.$t("upload.message5")}),await p(K);break;case ve.allUploaded:U.success({message:(V=o==null?void 0:o.proxy)==null?void 0:V.$t("upload.message6")}),await p(K,!0);break;case ve.uploadFail:U.error({message:(ee=o==null?void 0:o.proxy)==null?void 0:ee.$t("upload.message7")})}},C=()=>{c.value=!1,t.dispatch("UPLOAD_IMG_LIST_RESET"),w()},S=k=>{var F;t.dispatch("UPLOAD_IMG_LIST_REMOVE",k),(F=n.value)==null||F.remove(k)};ne(()=>s,k=>{!k&&C()}),ne(()=>t.state.uploadImageListModule.uploadImageList,k=>{u.value=k},{immediate:!0,deep:!0});const M=()=>{document.addEventListener("keydown",k=>{const F=k.keyCode||k.which||k.charCode,E=k.ctrlKey||k.metaKey;E&&F===65&&u.value.length&&(C(),k.preventDefault()),E&&F===83&&(c.value||(h(),k.preventDefault()))})};return ce(()=>{M()}),(k,F)=>{const E=at,A=va,q=Ie;return g(),y("div",Zi,[u.value.length&&(d(l).elementPlusSize===d(te).large||d(l).elementPlusSize===d(te).default)?(g(),y("div",Qi,[(g(!0),y(me,null,pe(u.value,(K,ie)=>(g(),y("div",{class:"uploaded-item",key:ie+K.uuid},[r(Yi,{"img-obj":K,onRemove:F[0]||(F[0]=I=>S(I))},null,8,["img-obj"])]))),128))])):L("",!0),m("div",{class:se(["upload-page-right page-container",{"has-left":u.value.length}])},[m("div",el,[m("div",tl,[r(E,{disabled:c.value,ref_key:"gettingImagesRef",ref:n,onGetImgList:b},null,8,["disabled"])])]),m("div",al,[m("div",ol,[r(A),u.value.length?(g(),y("div",nl,$(k.$t("upload.uploaded"))+"\uFF1A"+$(u.value.filter(K=>K.uploadStatus.progress===100).length)+" / "+$(u.value.length),1)):L("",!0)])]),u.value.length?(g(),y("div",sl,[m("div",il,[r(q,{disabled:c.value,plain:"",type:"warning",onClick:C},{default:_(()=>[R($(k.$t("reset"))+" ",1),m("span",ll,"[ "+$(f.value)+" + A ]",1)]),_:1},8,["disabled"]),r(q,{disabled:c.value,plain:"",type:"primary",onClick:h},{default:_(()=>[R($(k.$t("upload.upload"))+" ",1),m("span",rl,"[ "+$(f.value)+" + S ]",1)]),_:1},8,["disabled"])])])):L("",!0)],2)])}}}),ul={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},dl=m("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z"},null,-1),ml=[dl];function pl(e,t){return g(),y("svg",ul,ml)}var gl={name:"ep-more-filled",render:pl};const _l={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},fl=m("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"},null,-1),hl=m("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"},null,-1),vl=[fl,hl];function bl(e,t){return g(),y("svg",_l,vl)}var Ca={name:"ep-copy-document",render:bl};const yl={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$l=m("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296c-44.096 0-108.992 44.736-148.48 101.504c0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04c67.84 0 107.904-43.648 147.456-100.416z"},null,-1),wl=[$l];function Il(e,t){return g(),y("svg",yl,wl)}var kl={name:"ep-info-filled",render:Il};const Sl={class:"copy-image-link-box"},Cl={class:"left"},Ll={class:"right"},Dl=G({__name:"copy-image-link",props:{imgObj:{type:Object,default:()=>{}}},setup(e){const t=e,a=O(()=>N.getters.getUserSettings).value,o=O(()=>N.getters.getUserConfigInfo).value,n=O(()=>a.imageLinkFormat.enable?`${a.imageLinkType.selected} & ${a.imageLinkFormat.selected}`:`${a.imageLinkType.selected}`);let i=T(t.imgObj).value;const l=()=>{et(i,o,a)};return Ja(()=>{i=t.imgObj}),(s,u)=>{const c=kl,f=_e,b=$e,w=Ca,v=Ie;return g(),y("div",Sl,[m("div",Cl,[r(b,{content:n.value,placement:"top"},{default:_(()=>[r(f,null,{default:_(()=>[r(c)]),_:1})]),_:1},8,["content"])]),m("div",Ll,[r(v,{plain:"",type:"primary",size:"small",onClick:l},{default:_(()=>[r(f,null,{default:_(()=>[r(w)]),_:1}),R("\xA0"+$(s.$t("upload.copyLink")),1)]),_:1})])])}}});var El=W(Dl,[["__scopeId","data-v-14701c17"]]);const xl={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Tl=m("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Rl=[Tl];function Al(e,t){return g(),y("svg",xl,Rl)}var Ol={name:"ep-close",render:Al};const Ul=["element-loading-text"],Ml={class:"image-box"},Fl={class:"info-box"},Bl={class:"image-info"},Pl={key:0,class:"rename-operate"},zl={key:1,class:"filename"},Nl={class:"copy-link-box"},Vl={class:"operation-box"},Gl={class:"operation-left"},Hl={class:"operation-right"},jl={class:"operation-btn"},Xl=G({__name:"image-card",props:{imageObj:{type:Object,default:()=>({})},isUploaded:{type:Boolean,default:!1}},setup(e){const t=e,a=we(),o=oe(),n=Ya(),i=O(()=>o.getters.getUserConfigInfo).value,l=O(()=>o.getters.getUserSettings).value,s=O(()=>n.path==="/management"),u=O(()=>wt(t.imageObj,i,l)),c=T(),f=T(""),b=T(!1),w=T(!1),v=T(!1),p=(E,A=!1)=>{A||(E.deleting=!0);const{owner:q,selectedRepo:K}=i,{path:ie,sha:I}=E;return new Promise(async D=>{var B,V;await da(q,K,ie,I)?(A?(b.value=!1,U.success({message:(B=a==null?void 0:a.proxy)==null?void 0:B.$t("management.message4")})):U.success({message:(V=a==null?void 0:a.proxy)==null?void 0:V.$t("management.message5")}),await o.dispatch("DIR_IMAGE_LIST_REMOVE",E),await o.dispatch("UPLOAD_IMG_LIST_REMOVE",E.uuid),D(!0)):D(!1)})},h=E=>{var A,q;Le.confirm(`
    <div>${(A=a==null?void 0:a.proxy)==null?void 0:A.$t("management.delTips")}\uFF1A</div>
    <strong>${E.name}</strong>
    `,(q=a==null?void 0:a.proxy)==null?void 0:q.$t("tips"),{dangerouslyUseHTMLString:!0,type:"warning"}).then(()=>{p(E)}).catch(()=>{console.log("Cancel")})},C=E=>{E.checked=!E.checked,o.commit("IMAGE_CARD",{imageObj:E})},S=async E=>{b.value=!0,f.value=Qt(E.name),setTimeout(()=>{var A;(A=c.value)==null||A.focus()},100)},M=async()=>{var q,K,ie,I,D;const{imageObj:E}=t;if(!f.value){U.error({message:(q=a==null?void 0:a.proxy)==null?void 0:q.$t("management.message1")}),(K=c.value)==null||K.focus();return}if(f.value===Qt(E.name)){U.error({message:(ie=a==null?void 0:a.proxy)==null?void 0:ie.$t("management.message2")}),b.value=!1;return}const A=async()=>{var X,Se,Ce;const P=Re.service({lock:!0,text:(X=a==null?void 0:a.proxy)==null?void 0:X.$t("management.loadingTxt2")}),B=yt(E.name),V=ae(),ee=`${f.value}${l.defaultHash?`.${V}`:""}.${B}`;let j;if(B.includes("svg")?j=await hs(u.value||""):j=await fs(u.value||"",B),j){const J=Zt();J.uuid=V,J.base64.originalBase64=j,J.filename.final=ee,J.reUploadInfo.isReUpload=!0,J.reUploadInfo.dir=E.dir;let Ve=ee;E.dir!=="/"&&(Ve=`${E.dir}/${ee}`),J.reUploadInfo.path=Ve,await ya(i,J)?(f.value="",await p(E,!0),await o.dispatch("UPLOAD_IMG_LIST_REMOVE",E.uuid)):U.error({message:(Se=a==null?void 0:a.proxy)==null?void 0:Se.$t("management.message3")})}else U.error({message:(Ce=a==null?void 0:a.proxy)==null?void 0:Ce.$t("management.message3")});P.close(),b.value=!1};Le.confirm((I=a==null?void 0:a.proxy)==null?void 0:I.$t("management.renameTips",{name:f.value}),(D=a==null?void 0:a.proxy)==null?void 0:D.$t("tips"),{type:"info"}).then(()=>{A()}).catch(()=>{console.log("Cancel"),b.value=!1})},k=E=>{v.value=E},F=E=>{var A,q,K;Le.confirm(`
    <div>${(A=a==null?void 0:a.proxy)==null?void 0:A.$t("management.imageName")}\uFF1A<strong>${E.name}</strong></div>
    <div>${(q=a==null?void 0:a.proxy)==null?void 0:q.$t("management.imageSize")}\uFF1A<strong>${xe(E.size)} KB</strong></div>
    `,(K=a==null?void 0:a.proxy)==null?void 0:K.$t("management.property"),{showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0,type:"info"})};return(E,A)=>{const q=We,K=De,ie=Ol,I=Ie,D=$a,P=Za,B=El,V=_e,ee=gl,j=Qa,X=eo,Se=to,Ce=Oe;return le((g(),y("div",{class:se(["image-card",{checked:e.imageObj.checked}]),"element-loading-text":E.$t("management.loadingTxt3"),onMouseenter:A[6]||(A[6]=J=>w.value=!0),onMouseleave:A[7]||(A[7]=J=>w.value=!1)},[m("div",Ml,[r(q,{src:u.value,fit:"cover",loading:"lazy",lazy:"","hide-on-click-modal":!0,"preview-src-list":[u.value]},null,8,["src","preview-src-list"])]),m("div",Fl,[m("div",Bl,[b.value?(g(),y("div",Pl,[r(K,{size:"small",class:"rename-input",modelValue:f.value,"onUpdate:modelValue":A[0]||(A[0]=J=>f.value=J),clearable:"",ref_key:"renameInputRef",ref:c,maxlength:d(Nt)},null,8,["modelValue","maxlength"]),r(P,{size:"small"},{default:_(()=>[r(I,{onClick:A[1]||(A[1]=J=>b.value=!1)},{default:_(()=>[r(ie)]),_:1}),r(I,{onClick:ke(M,["prevent"])},{default:_(()=>[r(D)]),_:1},8,["onClick"])]),_:1})])):(g(),y("div",zl,$(e.imageObj.name),1))])]),m("div",Nl,[r(B,{"img-obj":e.imageObj},null,8,["img-obj"])]),le(m("div",Vl,[m("div",Gl,[s.value?(g(),y("div",{key:0,class:se([e.imageObj.checked?"picked-btn":"pick-btn","operation-btn"]),onClick:A[2]||(A[2]=J=>C(e.imageObj))},[e.imageObj.checked?(g(),x(V,{key:0},{default:_(()=>[r(D)]),_:1})):L("",!0)],2)):L("",!0)]),m("div",Hl,[r(Se,{size:"default",trigger:"click",onVisibleChange:k},{dropdown:_(()=>[r(X,null,{default:_(()=>[r(j,{onClick:A[3]||(A[3]=J=>h(e.imageObj))},{default:_(()=>[R($(E.$t("upload.delete")),1)]),_:1}),r(j,{onClick:A[4]||(A[4]=ke(J=>S(e.imageObj),["self"]))},{default:_(()=>[R($(E.$t("upload.rename")),1)]),_:1}),r(j,{onClick:A[5]||(A[5]=J=>F(e.imageObj))},{default:_(()=>[R($(E.$t("management.property")),1)]),_:1})]),_:1})]),default:_(()=>[m("div",jl,[r(V,null,{default:_(()=>[r(ee)]),_:1})])]),_:1})])],512),[[Me,w.value||v.value||e.imageObj.checked]])],42,Ul)),[[Ce,e.imageObj.deleting]])}}});var Wl=W(Xl,[["__scopeId","data-v-11b8104d"]]);const La=e=>(He("data-v-f3498e7c"),e=e(),je(),e),ql=La(()=>m("div",{class:"icon"},[m("svg",{t:"1639999626518",class:"icon",viewBox:"0 0 1228 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3575",width:"200",height:"200"},[m("path",{d:"M1196.987733 212.5824v540.0576c0 39.594667-34.474667 71.3728-76.765866 71.3728H323.242667c-51.780267 0-88.746667-46.762667-73.250134-92.808533l126.737067-375.808H70.417067C31.675733 355.362133 0 326.4512 0 291.089067V98.372267C0 63.044267 31.675733 34.0992 70.417067 34.0992h378.811733c26.7264 0 51.029333 13.9264 63.010133 35.703467l39.048534 71.406933H1120.256c42.257067 0 76.8 32.119467 76.8 71.3728",fill:"#5398DF","p-id":"3576"}),m("path",{d:"M1128.721067 997.853867H68.266667a68.266667 68.266667 0 0 1-68.266667-68.266667V280.3712a68.266667 68.266667 0 0 1 68.266667-68.266667h1060.4544a68.266667 68.266667 0 0 1 68.266666 68.266667V929.5872a68.266667 68.266667 0 0 1-68.266666 68.266667",fill:"#85BCFF","p-id":"3577"})])],-1)),Kl={key:1,class:"text"},Jl={key:2,class:"icon"},Yl=La(()=>m("svg",{t:"1640264285200",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29312",width:"200",height:"200"},[m("path",{d:"M426.666667 384V213.333333l-298.666667 298.666667 298.666667 298.666667v-174.933334c213.333333 0 362.666667 68.266667 469.333333 217.6-42.666667-213.333333-170.666667-426.666667-469.333333-469.333333z","p-id":"29313",fill:"#85BCFF"})],-1)),Zl=[Yl],Ql={key:3,class:"text"},er=G({__name:"folder-card",props:{folderObj:{type:Object,default:()=>{}},mode:{type:String,default:"dir"}},setup(e){const t=e,a=oe(),o=O(()=>a.getters.getUserConfigInfo).value,n=()=>{const{folderObj:i,mode:l}=t;if(l==="back"){const s=o.viewDir;if(s==="/")return;const u=s.split("/");u.length===1?o.viewDir="/":u.length>1&&(u.length-=1,o.viewDir=u.join("/"))}l==="dir"&&(o.viewDir=i.dirPath),a.dispatch("USER_CONFIG_INFO_PERSIST")};return(i,l)=>{const s=$e;return g(),y("div",{class:"folder-card",onDblclick:n},[e.mode==="dir"?(g(),x(s,{key:0,content:i.$t("management.toNextDir"),placement:"top"},{default:_(()=>[ql]),_:1},8,["content"])):L("",!0),e.mode==="dir"?(g(),y("div",Kl,$(e.folderObj.dir),1)):L("",!0),e.mode==="back"?(g(),y("div",Jl,Zl)):L("",!0),e.mode==="back"?(g(),y("div",Ql,$(i.$t("management.back")),1)):L("",!0)],32)}}});var Da=W(er,[["__scopeId","data-v-f3498e7c"]]);const tr={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ar=m("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),or=[ar];function nr(e,t){return g(),y("svg",tr,or)}var Ea={name:"ep-delete",render:nr};const sr={key:0,class:"selector-wrapper"},ir={class:"selector-left-box"},lr={class:"item"},rr={class:"selector-right-box"},cr=G({__name:"image-selector",props:{currentDirImageList:{type:Array,default:()=>[]}},emits:["update:initImageList"],setup(e){const t=e,a=oe(),o=T(!1),n=we(),i=O(()=>a.getters.getImageCardCheckedArr),l=O(()=>a.getters.getUserConfigInfo).value,s=O(()=>a.getters.getUserSettings).value,u=O(()=>i.value.length||0);ne(()=>u.value,v=>{const p=t.currentDirImageList.length;o.value=v===p});const c=()=>{oa(i.value,l,s)},f=()=>{t.currentDirImageList.forEach(v=>{v.checked&&(v.checked=!1)})},b=()=>{var v,p,h,C;((v=i.value)==null?void 0:v.length)>0&&Le.confirm((h=n==null?void 0:n.proxy)==null?void 0:h.$t("management.delTips2",{total:(p=i.value)==null?void 0:p.length}),(C=n==null?void 0:n.proxy)==null?void 0:C.$t("tips"),{type:"warning"}).then(async()=>{var M,k,F;const S=await _s(i.value,l);S===be.deleted&&U.success({message:(M=n==null?void 0:n.proxy)==null?void 0:M.$t("management.message5")}),S===be.allDeleted&&U.success({message:(k=n==null?void 0:n.proxy)==null?void 0:k.$t("management.message6")}),S===be.deleteFail&&U.error({message:(F=n==null?void 0:n.proxy)==null?void 0:F.$t("management.message7")})}).catch(()=>{console.log("Cancel")})},w=()=>{let v=[];t.currentDirImageList.forEach(p=>{p.checked=o.value}),v=t.currentDirImageList,a.commit("REPLACE_IMAGE_CARD",{checkedImgArr:v})};return ce(()=>{w()}),(v,p)=>{const h=xt,C=Ca,S=_e,M=$e,k=Ea;return u.value?(g(),y("div",sr,[m("div",ir,[r(h,{label:o.value?v.$t("management.deselectAll"):v.$t("management.selectAll"),modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=F=>o.value=F),onChange:w},null,8,["label","modelValue"]),m("div",lr,$(v.$t("management.selectTotal",{total:u.value})),1),m("div",{class:"item cancel-select-btn",onClick:f},$(v.$t("management.unselect")),1)]),m("div",rr,[r(M,{placement:"top",content:v.$t("management.batchCopy")},{default:_(()=>[r(S,{class:"btn-icon",onClick:c},{default:_(()=>[r(C)]),_:1})]),_:1},8,["content"]),r(M,{placement:"top",content:v.$t("management.batchDelete")},{default:_(()=>[r(S,{class:"btn-icon",onClick:b},{default:_(()=>[r(k)]),_:1})]),_:1},8,["content"])])])):L("",!0)}}});var ur=W(cr,[["__scopeId","data-v-0ff830e2"]]);const dr=e=>(He("data-v-400d1d22"),e=e(),je(),e),mr={class:"page-container management-page-container"},pr={class:"content-container"},gr={class:"top"},_r={class:"left"},fr={class:"right flex-start"},hr=["element-loading-text"],vr={key:0,class:"image-management-item"},br=dr(()=>m("div",{style:{width:"100%"}},null,-1)),yr=G({__name:"imgs-management",setup(e){const t=oe(),a=Ue(),o=O(()=>t.getters.getUserConfigInfo).value,n=O(()=>t.getters.getUserLoginStatus).value,i=O(()=>t.getters.getDirObject).value,l=T(new Date().getTime()),s=T(!1),u=T([]),c=T([]),f=T(!1);async function b(p){s.value=!0;const h=Ye(p,i);if(h){const C=Ze(p,h,"dir"),S=Ze(p,h,"image");!C.length&&!S.length?await tt(o,p):(u.value=C,c.value=S,t.commit("REPLACE_IMAGE_CARD",{checkedImgArr:c.value}))}else await tt(o,p);s.value=!1}async function w(){const{selectedDir:p,viewDir:h,dirMode:C}=o;if(h===""&&((C===Q.newDir||C===Q.autoDir)&&!Ye(p,i)&&(o.selectedDir="/",o.dirMode="rootDir"),o.selectedDir?o.viewDir=o.selectedDir:o.viewDir="/"),!i.imageList.length&&!i.childrenDirs.length){await tt(o,o.viewDir);return}await b(o.viewDir)}async function v(){const{viewDir:p}=o;await t.dispatch("DIR_IMAGE_LIST_INIT_DIR",p),s.value=!0,await tt(o,p),s.value=!1}return ce(()=>{w()}),ne(()=>n,p=>{p===!1&&a.push("/config")}),ne(()=>o.viewDir,async p=>{await b(p),l.value+=1},{deep:!0}),ne(()=>i,p=>{const{viewDir:h}=o,C=Ye(h,p);C&&(u.value=Ze(h,C,"dir"),c.value=Ze(h,C,"image"),t.commit("REPLACE_IMAGE_CARD",{checkedImgArr:c.value}))},{deep:!0}),ne(()=>c.value,p=>{f.value=p.filter(h=>h.checked).length>0},{deep:!0}),(p,h)=>{const C=fa,S=_e,M=$e,k=ao("contextmenu"),F=Oe;return g(),y("div",mr,[m("div",pr,[m("div",gr,[m("div",_r,[r(va,{"bar-type":"management"})]),m("div",fr,[r(M,{placement:"top",content:p.$t("management.reload",{dir:d(o).viewDir})},{default:_(()=>[r(S,{class:"btn-icon",onClick:ke(v,["stop"])},{default:_(()=>[r(C)]),_:1},8,["onClick"])]),_:1},8,["content"])])]),le((g(),y("div",{class:"bottom","element-loading-text":p.$t("management.loadingTxt1")},[c.value.length?(g(),x(ur,{currentDirImageList:c.value,"onUpdate:initImageList":c.value,key:l.value},null,8,["currentDirImageList","onUpdate:initImageList"])):L("",!0),le((g(),y("ul",{class:"image-management-list",style:Ae({height:f.value?"calc(100% - 50rem)":"100%"})},[d(o).viewDir!=="/"?(g(),y("li",vr,[r(Da,{mode:"back"})])):L("",!0),(g(!0),y(me,null,pe(u.value,(E,A)=>le((g(),y("li",{class:"image-management-item",key:"folder-card-"+E.dir+"-"+A},[r(Da,{"folder-obj":E},null,8,["folder-obj"])])),[[k,{type:d(Ee).childDir,dir:E.dir}]])),128)),br,(g(!0),y(me,null,pe(c.value,(E,A)=>le((g(),y("li",{class:"image-management-item image",key:"image-card-"+A},[r(Wl,{"image-obj":E},null,8,["image-obj"])])),[[k,{type:d(Ee).img,img:E}]])),128))],4)),[[k,{type:d(Ee).parentDir}]])],8,hr)),[[F,s.value]])])])}}});var $r=W(yr,[["__scopeId","data-v-400d1d22"]]);const wr={class:"card-header"},Ir=["contenteditable","onFocusout"],kr={style:{"margin-top":"20px"}},Sr=G({__name:"image-link-rule-config",setup(e){const t=we(),a=O(()=>N.getters.getUserSettings).value,o=T(),n=Xe({id:"",name:"",rule:"",editable:!0}),i=(u,c)=>{N.dispatch("UPDATE_IMAGE_LINK_TYPE_RULE",{rule:u,id:c})},l=u=>{var c,f;Le.confirm(`${(c=t==null?void 0:t.proxy)==null?void 0:c.$t("settings.link_format.delete_tips")}\uFF1A<strong>${u.name}</strong>`,(f=t==null?void 0:t.proxy)==null?void 0:f.$t("tips"),{dangerouslyUseHTMLString:!0,type:"warning"}).then(()=>{N.dispatch("DEL_IMAGE_LINK_TYPE_RULE",u.id)}).catch(()=>{console.log("Cancel")})},s=u=>{!u||u.validate(c=>{c&&(n.id=ae(),N.dispatch("ADD_IMAGE_LINK_TYPE_RULE",JSON.parse(JSON.stringify(n))))})};return(u,c)=>{const f=oo,b=Ea,w=Ie,v=no,p=Tt,h=De,C=lt,S=rt,M=Rt;return g(),x(M,null,{header:_(()=>[m("div",wr,[m("span",null,$(u.$t("settings.link_rule.card_title")),1)])]),default:_(()=>[r(v,{data:d(a).imageLinkType.presetList,style:{width:"100%"}},{default:_(()=>[r(f,{prop:"name",label:u.$t("settings.link_rule.card_table_col_title_1"),width:"120"},null,8,["label"]),r(f,{label:u.$t("settings.link_rule.card_table_col_title_2")},{default:_(k=>[m("div",{contenteditable:k.row.editable,onFocusout:F=>i(F.target.innerHTML,k.row.id)},$(k.row.rule),41,Ir)]),_:1},8,["label"]),r(f,{label:u.$t("settings.link_rule.card_table_col_title_3"),width:"80",align:"center"},{default:_(k=>[r(w,{link:"",size:"small",disabled:!k.row.editable,onClick:F=>l(k.row)},{default:_(()=>[r(b)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),r(p),m("div",kr,[r(S,{ref_key:"formRef",ref:o,"label-position":"left",model:n,"label-width":"120px",size:"default"},{default:_(()=>[r(C,{label:u.$t("settings.link_rule.input_name_1"),prop:"name",rules:[{required:!0,message:u.$t("settings.link_rule.input_name_1_rule")}]},{default:_(()=>[r(h,{modelValue:n.name,"onUpdate:modelValue":c[0]||(c[0]=k=>n.name=k),type:"text"},null,8,["modelValue"])]),_:1},8,["label","rules"]),r(C,{label:u.$t("settings.link_rule.input_name_2"),prop:"rule",rules:[{required:!0,message:u.$t("settings.link_rule.input_name_2_rule")}]},{default:_(()=>[r(h,{modelValue:n.rule,"onUpdate:modelValue":c[1]||(c[1]=k=>n.rule=k),type:"text"},null,8,["modelValue"])]),_:1},8,["label","rules"]),r(C,null,{default:_(()=>[r(w,{type:"primary",disabled:!n.name||!n.rule,onClick:c[2]||(c[2]=k=>s(o.value))},{default:_(()=>[R($(u.$t("settings.link_rule.btn_name_1")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])]),_:1})}}});var Cr=W(Sr,[["__scopeId","data-v-d0e8ffa8"]]);const Lr={class:"compress-config-box"},Dr={class:"img-encoder-title"},Er={class:"desc"},xr={class:"desc"},Tr={class:"desc"},Rr=G({__name:"compress-config-box",props:{disabled:{type:Boolean,default:!1},usageScenario:{type:String,default:"toolbox"}},emits:["encoder"],setup(e,{expose:t,emit:a}){const o=e,n=O(()=>N.getters.getUserSettings).value,i=T(ge.webP),l=u=>{a("encoder",u)},s=()=>{i.value=ge.webP};return ce(()=>{o.usageScenario==="imageHosting"&&(i.value=n.compress.encoder),a("encoder",i.value)}),t({reset:s}),(u,c)=>{const f=dt,b=mt;return g(),y("div",Lr,[m("div",Dr,$(u.$t("settings.img_compress.radio_group_title")),1),r(b,{disabled:e.disabled,class:"img-encoder-group",modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=w=>i.value=w),onChange:l},{default:_(()=>[r(f,{label:d(ge).webP},{default:_(()=>[R($(d(ge).webP)+" ",1),m("span",Er,$(u.$t("settings.img_compress.radio_1_desc")),1)]),_:1},8,["label"]),r(f,{label:d(ge).mozJPEG},{default:_(()=>[R($(d(ge).mozJPEG)+" ",1),m("span",xr,$(u.$t("settings.img_compress.radio_2_desc")),1)]),_:1},8,["label"]),r(f,{label:d(ge).avif},{default:_(()=>[R($(d(ge).avif)+" ",1),m("span",Tr,$(u.$t("settings.img_compress.radio_3_desc")),1)]),_:1},8,["label"])]),_:1},8,["disabled","modelValue"])])}}});var xa=W(Rr,[["__scopeId","data-v-186c475a"]]);const Ta=G({__name:"watermark-config-box",props:{isTool:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["watermarkConfig"],setup(e,{emit:t}){const a=Xe({text:"",fontSize:0,position:ue.rightBottom,textColor:"",opacity:0}),o=()=>{t("watermarkConfig",a)};return ce(()=>{const n=N.getters.getUserSettings.watermark;a.text=n.text,a.textColor=n.textColor,a.fontSize=n.fontSize,a.position=n.position,a.opacity=n.opacity,t("watermarkConfig",a)}),(n,i)=>{const l=De,s=lt,u=so,c=io,f=lo,b=dt,w=mt,v=ro,p=rt;return g(),x(p,{class:"watermark-config-form","label-position":"left","label-width":"90rem",disabled:e.disabled},{default:_(()=>[r(v,null,{default:_(()=>[r(u,{span:24},{default:_(()=>[r(s,{label:n.$t("settings.img_watermark.text")},{default:_(()=>[r(l,{modelValue:a.text,"onUpdate:modelValue":i[0]||(i[0]=h=>a.text=h),placeholder:n.$t("settings.img_watermark.text_input_placeholder"),clearable:"",maxlength:"20",onInput:o},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),r(u,{span:e.isTool?10:24},{default:_(()=>[r(s,{label:n.$t("settings.img_watermark.size")},{default:_(()=>[r(c,{modelValue:a.fontSize,"onUpdate:modelValue":i[1]||(i[1]=h=>a.fontSize=h),min:40,max:80,step:2,onChange:o},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["span"]),r(u,{span:e.isTool?14:24},{default:_(()=>[r(s,{label:n.$t("settings.img_watermark.color")},{default:_(()=>[r(f,{modelValue:a.textColor,"onUpdate:modelValue":i[2]||(i[2]=h=>a.textColor=h),onChange:o},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["span"]),r(u,{span:e.isTool?10:24},{default:_(()=>[r(s,{label:n.$t("settings.img_watermark.opacity")},{default:_(()=>[r(c,{modelValue:a.opacity,"onUpdate:modelValue":i[3]||(i[3]=h=>a.opacity=h),precision:1,step:.1,min:.1,max:.9,onChange:o},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["span"]),r(u,{span:e.isTool?14:24},{default:_(()=>[r(s,{label:n.$t("settings.img_watermark.position")},{default:_(()=>[r(w,{modelValue:a.position,"onUpdate:modelValue":i[4]||(i[4]=h=>a.position=h),onChange:o},{default:_(()=>[r(b,{label:d(ue).leftTop},{default:_(()=>[R($(n.$t("settings.img_watermark.position_1")),1)]),_:1},8,["label"]),r(b,{label:d(ue).leftBottom},{default:_(()=>[R($(n.$t("settings.img_watermark.position_2")),1)]),_:1},8,["label"]),r(b,{label:d(ue).rightTop},{default:_(()=>[R($(n.$t("settings.img_watermark.position_3")),1)]),_:1},8,["label"]),r(b,{label:d(ue).rightBottom},{default:_(()=>[R($(n.$t("settings.img_watermark.position_4")),1)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["span"])]),_:1})]),_:1},8,["disabled"])}}});const Ar={class:"page-container settings-page-container"},Or={class:"setting-list",style:{"margin-top":"10rem"}},Ur={class:"setting-item has-desc"},Mr={class:"desc"},Fr={class:"setting-item has-desc"},Br={class:"desc"},Pr={key:0,class:"setting-item has-desc"},zr={class:"setting-list"},Nr={class:"setting-item has-desc"},Vr={class:"desc"},Gr={class:"setting-item"},Hr={class:"setting-list"},jr={class:"setting-item has-desc"},Xr={class:"desc"},Wr={class:"setting-item"},qr={class:"setting-list"},Kr={class:"setting-item cdn"},Jr={class:"left"},Yr={class:"right"},Zr={class:"setting-item",style:{"margin-top":"20rem"}},Qr={class:"setting-list"},ec={class:"setting-item has-desc"},tc={class:"desc"},ac={class:"setting-item"},oc={class:"left"},nc={class:"right"},sc={class:"setting-list"},ic={class:"setting-item"},lc=G({__name:"my-settings",setup(e){const t=O(()=>N.getters.getUserSettings).value,a=()=>{N.dispatch("USER_SETTINGS_PERSIST")},o=()=>{N.dispatch("SET_USER_SETTINGS",Ge({},t))},n=i=>{t.watermark.text=i.text,t.watermark.textColor=i.textColor,t.watermark.opacity=i.opacity,t.watermark.position=i.position,t.watermark.fontSize=i.fontSize,a()};return(i,l)=>{const s=At,u=De,c=co,f=Ta,b=Rt,w=xa,v=ct,p=ut,h=Cr,C=uo;return g(),y("div",Ar,[r(C,null,{default:_(()=>[r(c,{title:i.$t("settings.img_name.title"),name:"1"},{default:_(()=>[m("ul",Or,[m("li",Ur,[r(s,{modelValue:d(t).defaultHash,"onUpdate:modelValue":l[0]||(l[0]=S=>d(t).defaultHash=S),onChange:a,"active-text":i.$t("settings.img_name.hash_switch_name")},null,8,["modelValue","active-text"]),m("span",Mr,$(i.$t("settings.img_name.hash_switch_desc")),1)]),m("li",Fr,[r(s,{modelValue:d(t).prefixNaming.enable,"onUpdate:modelValue":l[1]||(l[1]=S=>d(t).prefixNaming.enable=S),onChange:a,"active-text":i.$t("settings.img_name.prefix_switch_name")},null,8,["modelValue","active-text"]),m("span",Br,$(i.$t("settings.img_name.prefix_switch_desc")),1)]),d(t).prefixNaming.enable?(g(),y("li",Pr,[r(u,{class:"prefix-input",modelValue:d(t).prefixNaming.prefix,"onUpdate:modelValue":l[2]||(l[2]=S=>d(t).prefixNaming.prefix=S),placeholder:i.$t("settings.img_name.prefix_input_placeholder"),onInput:a,clearable:"",autofocus:""},null,8,["modelValue","placeholder"])])):L("",!0)])]),_:1},8,["title"]),r(c,{title:i.$t("settings.img_watermark.title"),name:"2"},{default:_(()=>[m("ul",zr,[m("li",Nr,[r(s,{modelValue:d(t).watermark.enable,"onUpdate:modelValue":l[3]||(l[3]=S=>d(t).watermark.enable=S),onChange:a,"active-text":i.$t("settings.img_watermark.switch_name")},null,8,["modelValue","active-text"]),m("span",Vr,$(i.$t("settings.img_watermark.switch_desc")),1)]),m("li",Gr,[r(b,{class:"settings-item-card"},{default:_(()=>[r(f,{disabled:!d(t).watermark.enable,onWatermarkConfig:n},null,8,["disabled"])]),_:1})])])]),_:1},8,["title"]),r(c,{title:i.$t("settings.img_compress.title"),name:"3"},{default:_(()=>[m("ul",Hr,[m("li",jr,[r(s,{modelValue:d(t).compress.enable,"onUpdate:modelValue":l[4]||(l[4]=S=>d(t).compress.enable=S),onChange:a,"active-text":i.$t("settings.img_compress.switch_name")},null,8,["modelValue","active-text"]),m("span",Xr,$(i.$t("settings.img_compress.switch_desc")),1)]),m("li",Wr,[r(b,{class:"settings-item-card"},{default:_(()=>[r(w,{ref:"compressConfigBoxRef","usage-scenario":"imageHosting",disabled:!d(t).compress.enable,onEncoder:l[5]||(l[5]=S=>{d(t).compress.encoder=S,a()})},null,8,["disabled"])]),_:1})])])]),_:1},8,["title"]),r(c,{title:i.$t("settings.link_rule.title"),name:"4"},{default:_(()=>[m("ul",qr,[m("li",Kr,[R($(i.$t("settings.link_rule.select_title"))+"\uFF1A ",1),r(p,{modelValue:d(t).imageLinkType.selected,"onUpdate:modelValue":l[6]||(l[6]=S=>d(t).imageLinkType.selected=S),onChange:o},{default:_(()=>[(g(!0),y(me,null,pe(d(t).imageLinkType.presetList,S=>(g(),x(v,{key:S.name+"-"+S.id,label:S.name,value:S.name,class:"image-link-type-rule-option"},{default:_(()=>[m("span",Jr,$(S.name),1),m("span",Yr,$(S.rule),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),m("li",Zr,[r(h)])])]),_:1},8,["title"]),r(c,{title:i.$t("settings.link_format.title"),name:"5"},{default:_(()=>[m("ul",Qr,[m("li",ec,[r(s,{modelValue:d(t).imageLinkFormat.enable,"onUpdate:modelValue":l[7]||(l[7]=S=>d(t).imageLinkFormat.enable=S),onChange:a,"active-text":i.$t("settings.link_format.switch_name")},null,8,["modelValue","active-text"]),m("span",tc,$(i.$t("settings.link_format.switch_desc",{type:d(t).imageLinkFormat.selected})),1)]),m("li",ac,[R($(i.$t("settings.link_format.select_title"))+"\uFF1A ",1),r(p,{modelValue:d(t).imageLinkFormat.selected,"onUpdate:modelValue":l[8]||(l[8]=S=>d(t).imageLinkFormat.selected=S),onChange:o},{default:_(()=>[(g(!0),y(me,null,pe(d(t).imageLinkFormat.presetList,(S,M)=>(g(),x(v,{key:M+S.name,label:S.name,value:S.name,class:"image-link-type-rule-option"},{default:_(()=>[m("span",oc,$(S.name),1),m("span",nc,$(S.format),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["title"]),r(c,{title:i.$t("settings.theme.title"),name:"6"},{default:_(()=>[m("ul",sc,[m("li",ic,[R($(i.$t("header.theme"))+"\uFF1A ",1),r(p,{modelValue:d(t).theme.mode,"onUpdate:modelValue":l[9]||(l[9]=S=>d(t).theme.mode=S),onChange:o},{default:_(()=>[r(v,{label:i.$t("settings.theme.system"),value:d(re).system},null,8,["label","value"]),r(v,{label:i.$t("settings.theme.light"),value:d(re).light},null,8,["label","value"]),r(v,{label:i.$t("settings.theme.dark"),value:d(re).dark},null,8,["label","value"])]),_:1},8,["modelValue"])])])]),_:1},8,["title"])]),_:1})])}}});var rc=W(lc,[["__scopeId","data-v-64c19136"]]);const cc={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},uc=m("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6L385.6 334.848L249.856 199.104zM657.152 606.4l45.248-45.248l135.744 135.744l-45.248 45.248L657.152 606.4zM114.048 923.2L68.8 877.952l316.8-316.8l45.248 45.248l-316.8 316.8zM702.4 334.848L657.152 289.6l135.744-135.744l45.248 45.248L702.4 334.848z"},null,-1),dc=[uc];function mc(e,t){return g(),y("svg",cc,dc)}var pc={name:"ep-magic-stick",render:mc};const gc={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},_c=m("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144l45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"},null,-1),fc=[_c];function hc(e,t){return g(),y("svg",gc,fc)}var vc={name:"ep-paperclip",render:hc};const bc={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},yc=m("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32H160zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96z"},null,-1),$c=m("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128a64 64 0 0 1 0-128zM288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32zm0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),wc=[yc,$c];function Ic(e,t){return g(),y("svg",bc,wc)}var kc={name:"ep-postcard",render:Ic};const Ra=pt([{name:"toolbox.tool_1",desc:"toolbox.tool_1_desc",icon:pc,uuid:ae(),path:"/compress"},{name:"toolbox.tool_2",desc:"toolbox.tool_2_desc",icon:vc,uuid:ae(),path:"/base64"},{name:"toolbox.tool_3",desc:"toolbox.tool_3_desc",icon:kc,uuid:ae(),path:"/watermark"}]);const Sc={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Cc=m("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512L340.864 831.872a30.592 30.592 0 0 0 0 42.752a29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Lc=[Cc];function Dc(e,t){return g(),y("svg",Sc,Lc)}var Ec={name:"ep-arrow-right",render:Dc};const xc={class:"page-container"},Tc={key:0,class:"tool-panel"},Rc={class:"panel-header"},Ac={class:"panel-body"},Oc={key:1,class:"toolbox"},Uc=["onClick"],Mc={class:"top"},Fc={class:"left flex-center"},Bc={class:"right"},Pc={class:"bottom"},zc=G({__name:"picx-toolbox",setup(e){const t=pt(Ec),a=Ue(),o=T("/toolbox"),n=T(!1),i=T({path:"",icon:"",name:"",desc:"",uuid:""}),l=u=>{n.value=!0,i.value=Ge({},u),N.dispatch("TOOLBOX_IMG_LIST_RESET"),a.push(`${o.value}${u.path}`)};ne(()=>a.currentRoute.value,u=>{u.path===o.value&&(n.value=!1)},{deep:!0});const s=()=>{a.isReady().then(()=>{const u=a.currentRoute.value.path;if(o.value!==u){const c=u.substring(u.lastIndexOf("/")),f=Ra.value.find(b=>b.path===c);f&&l(f)}})};return ce(()=>{s()}),(u,c)=>{const f=mo,b=po,w=Ot("router-view"),v=_e;return g(),y("div",xc,[n.value?(g(),y("div",Tc,[m("div",Rc,[r(b,{"separator-icon":t.value},{default:_(()=>[r(f,{to:{path:o.value}},{default:_(()=>[R($(u.$t("nav.toolbox")),1)]),_:1},8,["to"]),r(f,null,{default:_(()=>[R($(u.$t(i.value.name)),1)]),_:1})]),_:1},8,["separator-icon"])]),m("div",Ac,[r(w)])])):(g(),y("ul",Oc,[(g(!0),y(me,null,pe(d(Ra),p=>(g(),y("li",{class:"tool-item",key:p.uuid,onClick:h=>l(p)},[m("div",Mc,[m("div",Fc,[r(v,{size:30},{default:_(()=>[(g(),x(Ut(p.icon)))]),_:2},1024)]),m("div",Bc,$(u.$t(p.name)),1)]),m("div",Pc,$(u.$t(p.desc)),1)],8,Uc))),128))]))])}}});var Nc=W(zc,[["__scopeId","data-v-06af4a8d"]]);const Vc={class:"page-container feedback-page-container"},Gc={class:"help-info-item description"},Hc={class:"help-info-item"},jc={class:"help-info-item"},Xc={class:"help-info-item"},Wc={class:"help-info-item"},qc={class:"help-info-item",style:{"margin-bottom":"2rem"}},Kc={class:"help-info-item img"},Jc={class:"help-info-item red-text"},Yc=G({__name:"feedback-info",setup(e){const t=O(()=>na()==="win"?"Ctrl + D":"Command + D");return(a,o)=>{const n=go,i=We;return g(),y("div",Vc,[m("div",Gc,"\u{1F3DE}\uFE0F "+$(a.$t("feedback.text_1")),1),m("div",Hc,[R(" \u{1F30D} "+$(a.$t("feedback.text_2"))+" "+$(a.$t("shortcut_key"))+"\uFF1A",1),m("code",null,$(t.value),1)]),m("div",jc,[R(" \u{1F981} "+$(a.$t("author"))+"\uFF1A ",1),r(n,{type:"primary",href:"https://xpoet.cn/",target:"_blank"},{default:_(()=>[R("@XPoet")]),_:1})]),m("div",Xc,[R(" \u{1F300} "+$(a.$t("repo"))+"\uFF1A ",1),r(n,{type:"primary",href:"https://github.com/XPoet/picx",target:"_blank"},{default:_(()=>[R(" https://github.com/XPoet/picx ")]),_:1})]),m("div",Wc,[R(" \u{1F4D6} "+$(a.$t("document"))+"\uFF1A ",1),r(n,{type:"primary",href:"https://picx-docs.xpoet.cn",target:"_blank"},{default:_(()=>[R(" https://picx-docs.xpoet.cn ")]),_:1})]),m("div",qc,"\u{1F381} "+$(a.$t("feedback.text_3")),1),m("div",Kc,[r(i,{style:{width:"300rem"},src:"https://cdn.staticaly.com/gh/XPoet/image-hosting@master/common/appreciation.webp"})]),m("div",Jc,[m("strong",null," \u26A0\uFE0F "+$(a.$t("feedback.text_4")),1)])])}}});var Zc=W(Yc,[["__scopeId","data-v-de924ba8"]]);const Qc={class:"img-process-state-card-container"},eu={class:"img-container"},tu={class:"info-container"},au={class:"img-name text-ellipsis"},ou={class:"img-size"},nu={key:0,class:"finial-file-size file-size-item"},su=G({__name:"img-process-state-card",props:{imgObj:{type:Object,require:!0,default:()=>({})},cardType:{type:String,default:"compress"}},emits:["remove"],setup(e,{emit:t}){const a=i=>{t("remove",i)},o=i=>{bt(i)},n=(i,l)=>{ht(i,()=>{U.success({message:l("toolbox.copy_base64_success")})})};return(i,l)=>{const s=We,u=Ia,c=_e,f=$e,b=Oe;return g(),y("div",Qc,[le((g(),y("div",eu,[r(s,{src:e.imgObj.finialBase64||e.imgObj.originalBase64,fit:"cover",loading:"lazy","hide-on-click-modal":!0,"preview-src-list":[e.imgObj.finialBase64||e.imgObj.originalBase64]},null,8,["src","preview-src-list"])])),[[b,e.imgObj.processing]]),m("div",tu,[m("div",au,$(e.imgObj.finialName||e.imgObj.originalName),1),m("div",ou,[m("div",{class:se(["original-file-size file-size-item",{"del-line":e.imgObj.finialSize&&e.cardType==="compress"}])},$(d(xe)(e.imgObj.originalSize))+" KB ",3),e.imgObj.finialSize&&e.cardType==="compress"?(g(),y("div",nu,$(d(xe)(e.imgObj.finialSize))+" KB ",1)):L("",!0)])]),e.imgObj.finialFile?(g(),y("div",{key:0,class:"operate-container flex-center",onClick:l[0]||(l[0]=w=>o(e.imgObj.finialFile))},$(i.$t("toolbox.click_download")),1)):L("",!0),e.cardType==="base64"&&e.imgObj.originalBase64?(g(),y("div",{key:1,class:"operate-container flex-center",onClick:l[1]||(l[1]=w=>n(e.imgObj.originalBase64,i.$t))},$(i.$t("toolbox.copy_base64")),1)):L("",!0),r(f,{placement:"top",offset:8,content:i.$t("delete")},{default:_(()=>[r(c,{class:"del-btn",onClick:l[2]||(l[2]=w=>a(e.imgObj.uuid))},{default:_(()=>[r(u)]),_:1})]),_:1},8,["content"])])}}});var St=W(su,[["__scopeId","data-v-d59c7528"]]);const iu={class:"compress-tool-container"},lu={key:0,class:"compress-tool-left"},ru=G({__name:"compress-tool",setup(e){const t=oe(),a=T(null),o=T(null),n=T([]),i=T(ge.webP),l=T(!1),s=T(!1),u=p=>{s.value=!1,l.value=!1,p.forEach(h=>{t.dispatch("TOOLBOX_IMG_LIST_ADD",{uuid:h.uuid,originalName:h.file.name,originalSize:h.file.size,originalBase64:h.base64,originalFile:h.file})})},c=p=>{s.value=!1,i.value=p},f=()=>{var p,h;t.dispatch("TOOLBOX_IMG_LIST_RESET"),s.value=!1,(p=a.value)==null||p.reset(),(h=o.value)==null||h.reset()},b=async()=>{l.value=!0;for(const p of n.value)p.processing=!0,p.finialFile=await ea(p.originalFile,i.value),p.finialBase64=await Pe(p.finialFile)||"",p.finialSize=p.finialFile.size,p.finialName=p.finialFile.name,p.processing=!1;s.value=!0,l.value=!1},w=()=>{n.value.forEach(p=>{bt(p.finialFile)})},v=p=>{var h;t.dispatch("TOOLBOX_IMG_LIST_REMOVE",p),(h=a.value)==null||h.remove(p)};return ne(()=>t.state.toolboxImageListModule.toolboxImageList,p=>{n.value=p},{immediate:!0,deep:!0}),(p,h)=>{const C=St,S=at,M=xa,k=Ie;return g(),y("div",iu,[n.value.length?(g(),y("div",lu,[(g(!0),y(me,null,pe(n.value,F=>(g(),x(C,{"img-obj":F,key:F.uuid,onRemove:v},null,8,["img-obj"]))),128))])):L("",!0),m("div",{class:se(["compress-tool-right",{"no-img":!n.value.length}])},[r(S,{ref_key:"gettingImagesRef",ref:a,onGetImgList:u},null,512),r(M,{ref_key:"compressConfigBoxRef",ref:o,style:{"margin-top":"18rem"},onEncoder:h[0]||(h[0]=F=>c(F))},null,512),m("div",{class:se(["user-operate",{compressed:s.value&&n.value.length>1}])},[s.value&&n.value.length>1?(g(),x(k,{key:0,plain:"",type:"success",onClick:w},{default:_(()=>[R($(p.$t("toolbox.batch_download")),1)]),_:1})):L("",!0),m("div",null,[n.value.length?(g(),x(k,{key:0,plain:"",type:"warning",onClick:f},{default:_(()=>[R($(p.$t("reset")),1)]),_:1})):L("",!0),n.value.length?(g(),x(k,{key:1,disabled:l.value||s.value,plain:"",type:"primary",onClick:b},{default:_(()=>[R($(p.$t("toolbox.compress")),1)]),_:1},8,["disabled"])):L("",!0)])],2)],2)])}}});var cu=W(ru,[["__scopeId","data-v-2f45486b"]]);const uu={class:"base64-tool-container"},du={key:0,class:"base64-tool-left"},mu={class:"user-operate"},pu=G({__name:"base64-tool",setup(e){const t=oe(),a=T(null),o=T([]),n=s=>{s.forEach(u=>{t.dispatch("TOOLBOX_IMG_LIST_ADD",{uuid:u.uuid,originalName:u.file.name,originalSize:u.file.size,originalBase64:u.base64})})},i=()=>{var s;t.dispatch("TOOLBOX_IMG_LIST_RESET"),(s=a.value)==null||s.reset()},l=s=>{var u;t.dispatch("TOOLBOX_IMG_LIST_REMOVE",s),(u=a.value)==null||u.remove(s)};return ne(()=>t.state.toolboxImageListModule.toolboxImageList,s=>{o.value=s},{immediate:!0,deep:!0}),(s,u)=>{const c=St,f=at,b=Ie;return g(),y("div",uu,[o.value.length?(g(),y("div",du,[(g(!0),y(me,null,pe(o.value,w=>(g(),x(c,{"card-type":"base64","img-obj":w,key:w.uuid,onRemove:l},null,8,["img-obj"]))),128))])):L("",!0),m("div",{class:se(["base64-tool-right",{"no-img":!o.value.length}])},[r(f,{ref_key:"gettingImagesRef",ref:a,onGetImgList:n},null,512),m("div",mu,[o.value.length?(g(),x(b,{key:0,plain:"",type:"warning",onClick:i},{default:_(()=>[R($(s.$t("reset")),1)]),_:1})):L("",!0)])],2)])}}});var gu=W(pu,[["__scopeId","data-v-654d8c19"]]);const _u={class:"watermark-tool-container"},fu={key:0,class:"watermark-tool-left"},hu=G({__name:"watermark-tool",setup(e){const t=oe(),a=Xe({enable:!0,text:"",fontSize:0,opacity:0,position:ue.rightBottom,textColor:""}),o=T(null),n=T([]),i=T(!1),l=T(!1),s=v=>{l.value=!1,i.value=!1,v.forEach(p=>{t.dispatch("TOOLBOX_IMG_LIST_ADD",{uuid:p.uuid,originalName:p.file.name,originalSize:p.file.size,originalBase64:p.base64,originalFile:p.file})})},u=v=>{a.text=v.text,a.textColor=v.textColor,a.opacity=v.opacity,a.position=v.position,a.fontSize=v.fontSize,l.value=!1},c=()=>{var v;t.dispatch("TOOLBOX_IMG_LIST_RESET"),l.value=!1,(v=o.value)==null||v.reset()},f=async()=>{i.value=!0;for(const v of n.value)v.processing=!0,v.finialFile=await Yt(v.originalFile,a),v.finialBase64=await Pe(v.finialFile)||"",v.finialSize=v.finialFile.size,v.finialName=v.finialFile.name,v.processing=!1;l.value=!0,i.value=!1},b=()=>{n.value.forEach(v=>{bt(v.finialFile)})},w=v=>{var p;t.dispatch("TOOLBOX_IMG_LIST_REMOVE",v),(p=o.value)==null||p.remove(v)};return ne(()=>t.state.toolboxImageListModule.toolboxImageList,v=>{n.value=v},{immediate:!0,deep:!0}),(v,p)=>{const h=St,C=at,S=Ta,M=Ie;return g(),y("div",_u,[n.value.length?(g(),y("div",fu,[(g(!0),y(me,null,pe(n.value,k=>(g(),x(h,{"img-obj":k,key:k.uuid,"card-type":"watermark",onRemove:w},null,8,["img-obj"]))),128))])):L("",!0),m("div",{class:se(["watermark-tool-right",{"no-img":!n.value.length}])},[r(C,{ref_key:"gettingImagesRef",ref:o,onGetImgList:s},null,512),r(S,{isTool:!0,onWatermarkConfig:u,style:{"margin-top":"18rem"}}),m("div",{class:se(["user-operate",{watermarked:l.value&&n.value.length>1}])},[l.value&&n.value.length>1?(g(),x(M,{key:0,plain:"",type:"success",onClick:b},{default:_(()=>[R($(v.$t("toolbox.batch_download")),1)]),_:1})):L("",!0),m("div",null,[n.value.length?(g(),x(M,{key:0,plain:"",type:"warning",onClick:c},{default:_(()=>[R($(v.$t("reset")),1)]),_:1})):L("",!0),n.value.length?(g(),x(M,{key:1,disabled:i.value||l.value||!a.text,plain:"",type:"primary",onClick:f},{default:_(()=>[R($(v.$t("toolbox.add_watermark")),1)]),_:1},8,["disabled"])):L("",!0)])],2)],2)])}}});var vu=W(hu,[["__scopeId","data-v-8c458a98"]]);const bu=[{path:"/",name:"index",redirect:{name:"upload"}},{path:"/config",name:"config",component:Ws,meta:{title:"nav.config"}},{path:"/upload",name:"upload",component:cl,meta:{title:"nav.upload"}},{path:"/management",name:"Management",component:$r,meta:{title:"nav.management"}},{path:"/settings",name:"settings",component:rc,meta:{title:"nav.settings"}},{path:"/toolbox",name:"Toolbox",component:Nc,meta:{title:"nav.toolbox"},children:[{path:"/toolbox/compress",name:"Compress",component:cu},{path:"/toolbox/base64",name:"Base64",component:gu},{path:"/toolbox/watermark",name:"Watermark",component:vu}]},{path:"/feedback",name:"feedback",component:Zc,meta:{title:"nav.feedback"}},{path:"/:catchAll(.*)",redirect:"/"}],Te=_o({history:fo(),routes:bu});Te.beforeEach((e,t,a)=>{e.meta.title&&Jt(e.meta.title),a()});const Aa=()=>{const e=oe(),t=async o=>{await ho(()=>{const n=document.getElementsByTagName("html")[0];o===re.dark&&(n.classList.remove("light"),n.classList.add("dark")),o===re.light&&(n.classList.remove("dark"),n.classList.add("light"))})},a=async o=>{o===re.system?await t($s()?re.dark:re.light):await t(o)};ne(()=>e.getters.getUserSettings.theme.mode,async o=>{await a(o)},{deep:!0,immediate:!0})},yu={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$u=m("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0a224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),wu=[$u];function Iu(e,t){return g(),y("svg",yu,wu)}var ku={name:"ep-user-filled",render:Iu};const Su={id:"busuanzi_value_site_uv",class:"uv"},Cu={id:"busuanzi_value_site_pv",class:"pv"},Lu=G({__name:"site-count",props:{isuv:{type:Boolean,default:!1}},setup(e){const t=e,a=T(null),o=T(!1),n=O(()=>!0),i=(l,s)=>l.querySelector(`.${s?"u":"p"}v`).innerText;return ce(()=>{const l=document.createElement("script");l.async=!0,l.src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",a.value.appendChild(l),l.onload=()=>{const s=setTimeout(()=>{i(a.value,t.isuv)&&(o.value=!0),clearTimeout(s)},1500)}}),(l,s)=>le((g(),y("span",{class:"site-count",ref_key:"siteCountDom",ref:a},[le(m("span",Su,null,512),[[Me,e.isuv]]),le(m("span",Cu,null,512),[[Me,!e.isuv]]),R("+ "+$(l.$t("header.usage_count")),1)],512)),[[Me,o.value&&n.value]])}});var Du="./assets/logo.206d082d.png";const Oa=e=>(He("data-v-c607299e"),e=e(),je(),e),Eu={class:"header"},xu={class:"header-left"},Tu=Oa(()=>m("div",{class:"logo"},[m("img",{src:Du,alt:"PicX"})],-1)),Ru=Oa(()=>m("div",{class:"title"},"PicX",-1)),Au=[Tu,Ru],Ou={class:"website-count"},Uu={class:"header-right"},Mu={class:"user-info"},Fu={class:"avatar-box"},Bu={class:"avatar flex-center"},Pu=["src","alt"],zu={class:"personal-center-popover"},Nu={class:"content-item"},Vu={class:"flex-center"},Gu={class:"content-item"},Hu={class:"flex-center"},ju=G({__name:"header-content",setup(e){const t=Ue(),a=oe(),o=O(()=>a.getters.getUserConfigInfo).value,n=O(()=>a.getters.getUserSettings).value,i=()=>{a.dispatch("USER_SETTINGS_PERSIST")},l=()=>{a.dispatch("LOGOUT"),t.push("/config"),document.body.click()},s=()=>{o.owner?window.open(`https://github.com/${o.owner}/${o.selectedRepo}`):t.push("/config")};return(u,c)=>{const f=Lu,b=ku,w=_e,v=ka,p=ct,h=ut,C=Tt,S=Mt;return g(),y("header",Eu,[m("div",xu,[m("div",{class:"brand",onClick:c[0]||(c[0]=M=>d(t).push("/"))},Au),m("div",Ou,[r(f,{isuv:!1})])]),m("div",Uu,[m("div",Mu,[m("div",{class:"username",onClick:s},$(d(o).owner?d(o).owner:u.$t("header.notLogin")),1),r(S,{placement:"bottom-end",trigger:"click",width:"220rem","show-arrow":!1,"popper-style":{padding:"0"}},{reference:_(()=>{var M,k,F;return[m("div",Fu,[m("div",Bu,[((M=d(o))==null?void 0:M.avatarUrl)?(g(),y("img",{key:0,src:(k=d(o))==null?void 0:k.avatarUrl,alt:(F=d(o))==null?void 0:F.owner},null,8,Pu)):(g(),x(w,{key:1,class:"user-filled-icon"},{default:_(()=>[r(b)]),_:1}))]),r(w,{class:"caret-bottom-icon"},{default:_(()=>[r(v)]),_:1})])]}),default:_(()=>[m("ul",zu,[m("li",Nu,[m("span",Vu,$(u.$t("header.language")),1),r(h,{size:"small",style:{width:"100rem"},modelValue:d(n).language,"onUpdate:modelValue":c[1]||(c[1]=M=>d(n).language=M),onChange:i},{default:_(()=>[r(p,{label:"\u4E2D\u6587\u7B80\u4F53",value:d(de).zhCN},null,8,["value"]),r(p,{label:"\u4E2D\u6587\u7E41\u9AD4",value:d(de).zhTW},null,8,["value"]),r(p,{label:"English",value:d(de).en},null,8,["value"])]),_:1},8,["modelValue"])]),r(C,{style:{margin:"5px 0"}}),m("li",Gu,[m("span",Hu,$(u.$t("header.theme")),1),r(h,{size:"small",style:{width:"100rem"},modelValue:d(n).theme.mode,"onUpdate:modelValue":c[2]||(c[2]=M=>d(n).theme.mode=M),onChange:i},{default:_(()=>[r(p,{label:u.$t("settings.theme.system"),value:d(re).system},null,8,["label","value"]),r(p,{label:u.$t("settings.theme.light"),value:d(re).light},null,8,["label","value"]),r(p,{label:u.$t("settings.theme.dark"),value:d(re).dark},null,8,["label","value"])]),_:1},8,["modelValue"])]),r(C,{style:{margin:"5px 0"}}),m("li",{class:"content-item",onClick:l},$(u.$t("header.logout")),1)])]),_:1})])])])}}});var Xu=W(ju,[["__scopeId","data-v-c607299e"]]);const Wu={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},qu=m("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),Ku=[qu];function Ju(e,t){return g(),y("svg",Wu,Ku)}var Yu={name:"ep-operation",render:Ju};const Zu={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Qu=m("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),ed=m("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),td=[Qu,ed];function ad(e,t){return g(),y("svg",Zu,td)}var od={name:"ep-edit",render:ad};const nd={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},sd=m("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),id=m("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472l122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888l49.92 39.936l-215.808 269.824l-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072l-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),ld=[sd,id];function rd(e,t){return g(),y("svg",nd,ld)}var cd={name:"ep-picture",render:rd};const ud={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},dd=m("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"},null,-1),md=[dd];function pd(e,t){return g(),y("svg",ud,md)}var gd={name:"ep-setting",render:pd};const _d={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},fd=m("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),hd=[fd];function vd(e,t){return g(),y("svg",_d,hd)}var bd={name:"ep-files",render:vd};const yd={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},$d=m("path",{fill:"currentColor",d:"m174.72 855.68l135.296-45.12l23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160S128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8l-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512C64 299.904 256 96 512 96s448 203.904 448 416s-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),wd=m("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4a51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4a51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4a51.2 51.2 0 0 1 0 102.4z"},null,-1),Id=[$d,wd];function kd(e,t){return g(),y("svg",yd,Id)}var Sd={name:"ep-chat-dot-round",render:kd};const ot=pt([{uuid:ae(),name:"nav.config",icon:od,isActive:!1,path:"/config",isShow:!0},{uuid:ae(),name:"nav.upload",icon:wa,isActive:!1,path:"/upload",isShow:!0},{uuid:ae(),name:"nav.management",icon:cd,isActive:!1,path:"/management",isShow:!0},{uuid:ae(),name:"nav.settings",icon:gd,isActive:!1,path:"/settings",isShow:!0},{uuid:ae(),name:"nav.toolbox",icon:bd,isActive:!1,path:"/toolbox",isShow:!0},{uuid:ae(),name:"nav.feedback",icon:Sd,isActive:!1,path:"/feedback",isShow:!0}]);const Cd={class:"nav"},Ld={class:"nav-list"},Dd=["onClick"],Ed={class:"nav-content"},xd={class:"nav-name"},Td={class:"nav-item quick-actions flex-center"},Rd={class:"nav-content"},Ad={class:"nav-name"},Od={class:"quick-actions-popover"},Ud=G({__name:"nav-content",setup(e){const t=Ue(),a=oe(),o=O(()=>a.getters.getUserConfigInfo).value,n=O(()=>a.getters.getUserSettings).value,i=O(()=>{switch(n.elementPlusSize){case te.small:return 22;case te.large:return 30;default:return 26}}),l=c=>{const{path:f}=c;if(f==="/management"){if(o.selectedRepo===""){U.warning("\u8BF7\u9009\u62E9\u4E00\u4E2A\u4ED3\u5E93"),t.push("/config");return}if(o.selectedDir===""){U.warning("\u76EE\u5F55\u4E0D\u80FD\u4E3A\u7A7A"),t.push("/config");return}}t.push(f)},s=c=>{ot.value.forEach(f=>{const b=f;return b.isActive=f.path===c||c.includes(f.path),b}),vo(ot)},u=()=>{a.dispatch("USER_SETTINGS_PERSIST")};return ne(()=>t.currentRoute.value,c=>{s(c.path)}),ne(()=>o.logined,c=>{ot.value.forEach(f=>{switch(f.path){case"/management":case"/settings":f.isShow=c}})},{deep:!0,immediate:!0}),ce(()=>{t.isReady().then(()=>{s(t.currentRoute.value.path)})}),(c,f)=>{const b=_e,w=Yu,v=At,p=Mt;return g(),y("aside",Cd,[m("ul",Ld,[(g(!0),y(me,null,pe(d(ot),(h,C)=>le((g(),y("li",{class:se(["nav-item flex-center",{active:h.isActive}]),key:C+h.uuid,onClick:S=>l(h)},[m("div",Ed,[r(b,{size:i.value},{default:_(()=>[(g(),x(Ut(h.icon)))]),_:2},1032,["size"]),m("span",xd,$(c.$t(h.name)),1)])],10,Dd)),[[Me,h.isShow]])),128))]),m("div",Td,[r(p,{placement:"right-end",width:d(n).language==="en"?"230rem":"190rem",trigger:"click","show-arrow":!1,"popper-style":{padding:"0"}},{reference:_(()=>[m("div",Rd,[r(b,{size:i.value},{default:_(()=>[r(w)]),_:1},8,["size"]),m("span",Ad,$(c.$t("nav.actions")),1)])]),default:_(()=>[m("div",Od,[r(v,{modelValue:d(n).watermark.enable,"onUpdate:modelValue":f[0]||(f[0]=h=>d(n).watermark.enable=h),class:"mb-2","active-text":c.$t("actions.watermark"),onChange:u},null,8,["modelValue","active-text"]),r(v,{modelValue:d(n).compress.enable,"onUpdate:modelValue":f[1]||(f[1]=h=>d(n).compress.enable=h),class:"mb-2","active-text":c.$t("actions.compress"),onChange:u},null,8,["modelValue","active-text"]),r(v,{modelValue:d(n).imageLinkFormat.enable,"onUpdate:modelValue":f[2]||(f[2]=h=>d(n).imageLinkFormat.enable=h),class:"mb-2","active-text":c.$t("actions.transform")+d(n).imageLinkFormat.selected,onChange:u},null,8,["modelValue","active-text"])])]),_:1},8,["width"])])])}}});var Md=W(Ud,[["__scopeId","data-v-5951a7aa"]]);const Fd={class:"main-container"},Bd={class:"top-container"},Pd={class:"bottom-container"},zd={class:"bottom-content"},Nd={class:"left"},Vd={class:"right"},Gd=G({__name:"main-container",setup(e){return ce(()=>{Aa()}),(t,a)=>{const o=Ot("router-view");return g(),y("main",Fd,[m("div",Bd,[r(Xu)]),m("div",Pd,[m("div",zd,[m("div",Nd,[r(Md)]),m("div",Vd,[r(o)])])])])}}});var Hd=W(Gd,[["__scopeId","data-v-c5c7351e"]]);const jd=G({__name:"App",setup(e){const t=we(),a=oe(),o=O(()=>a.getters.getUserSettings).value,n=T(te.default),i=T(gt),l=f=>{f<=600?(a==null||a.dispatch("SET_USER_SETTINGS",{elementPlusSize:te.small}),n.value=te.small):f<=900?(a==null||a.dispatch("SET_USER_SETTINGS",{elementPlusSize:te.default}),n.value=te.default):(a==null||a.dispatch("SET_USER_SETTINGS",{elementPlusSize:te.large}),n.value=te.large)},s=f=>{f===de.zhCN?(i.value=gt,t.proxy.$i18n.locale="zh-CN"):f===de.zhTW?(i.value=yo,t.proxy.$i18n.locale="zh-TW"):f===de.en?(i.value=$o,t.proxy.$i18n.locale="en"):(i.value=gt,t.proxy.$i18n.locale="zh-CN"),Jt(Te.currentRoute.value.meta.title)},u=()=>{s(o.language),ws().then(f=>{var w,v,p,h,C,S,M;const b=Is(f);if(b!==o.language){const k=(w=t==null?void 0:t.proxy)==null?void 0:w.$t("confirm",b),F=(v=t==null?void 0:t.proxy)==null?void 0:v.$t("cancel",b),E=(C=t==null?void 0:t.proxy)==null?void 0:C.$t("toggle-language-msg",b,{region:(p=t==null?void 0:t.proxy)==null?void 0:p.$t(`region.${f}`,b),language:(h=t==null?void 0:t.proxy)==null?void 0:h.$t(`language.${b}`,b)}),A=U({customClass:"toggle-language-message",duration:0,offset:20,message:`<div class="content-box">
                    <span class="msg">${E}</span>
                    <spna class="btn-box">
                      <span class="confirm btn">${k}</span>
                      <span class="cancel btn">${F}</span>
                    </spna>
                  </div>`,dangerouslyUseHTMLString:!0});(S=document.querySelector(".toggle-language-message .content-box .confirm"))==null||S.addEventListener("click",()=>{s(b),a.dispatch("SET_USER_SETTINGS",{language:b}),A.close()}),(M=document.querySelector(".toggle-language-message .content-box .cancel"))==null||M.addEventListener("click",()=>{A.close()})}})},c=()=>{l(window.innerWidth),window.addEventListener("resize",cs(f=>{l(f.target.innerWidth)},600)),Aa(),u()};return ne(()=>o.language,f=>{s(f)}),ce(()=>{c()}),(f,b)=>(g(),x(d(bo),{size:n.value,"z-index":3e3,locale:i.value},{default:_(()=>[r(Hd)]),_:1},8,["size","locale"]))}});const Ua="custom-contextmenu-container";let Y=null,Ct=!1;const Xd={mounted(e,t){e.addEventListener("contextmenu",a=>{const{dir:o,type:n,img:i}=t.value;a.preventDefault(),a.stopPropagation();const l=O(()=>N.getters.getUserViewDir).value,s=o?`${l==="/"?"":`${l}/`}${o}`:l;Y=document.querySelector(`.${Ua}`),Y||(Y=document.createElement("ul"),Y.setAttribute("class",Ua),Y.style.position="fixed",Y.style.zIndex="1000",Y.innerHTML=`<li class="custom-contextmenu-item upload-image"></li><li class="custom-contextmenu-item copy-link">${ye.global.t("copy_link")}</li>`,document.body.appendChild(Y));const u=Y==null?void 0:Y.querySelector(".upload-image"),c=Y==null?void 0:Y.querySelector(".copy-link");n===Ee.img?(c.style.display="block",u.innerHTML=ye.global.t("management.contextmenu_1")):(c.style.display="none",u.innerHTML=ye.global.t("management.contextmenu_2",{dir:s==="/"?ye.global.t("management.contextmenu_3"):s}));let f=a.clientX,b=a.clientY;const w=Y.clientWidth,v=Y.clientHeight,p=document.documentElement.clientWidth,h=document.documentElement.clientHeight,C=6;w+f>p&&(f=p-w-C),v+b>h&&(b=h-v-C),Y.style.top=`${b}px`,Y.style.left=`${f}px`,Ct||(Ct=!0,u==null||u.addEventListener("click",async()=>{const M=s==="/"?Q.rootDir:Q.repoDir,k=s==="/"?[]:s.split("/");await N.dispatch("SET_USER_CONFIG_INFO",{dirMode:M,selectedDir:s,selectedDirList:k}),await Te.push("/upload")}),c==null||c.addEventListener("click",async()=>{const M=O(()=>N.getters.getUserConfigInfo).value,k=O(()=>N.getters.getUserSettings).value;et(i,M,k)}));const S=()=>{Y&&(document.removeEventListener("click",S),document.body.removeChild(Y),Y=null,Ct=!1)};document.addEventListener("click",S)})}},Wd=e=>{e.directive("contextmenu",Xd)},Ma=wo(jd);Wd(Ma);Ma.use(Te).use(N,la).use(ye).mount("#app");
